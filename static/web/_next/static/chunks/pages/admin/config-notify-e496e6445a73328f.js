(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4440],{24308:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{c4:function(){return responsiveArray}});var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4942),_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87462),responsiveArray=["xxl","xl","lg","md","sm","xs"],responsiveMap={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},subscribers=new Map,subUid=-1,screens={};__webpack_exports__.ZP={matchHandlers:{},dispatch:function(pointMap){return screens=pointMap,subscribers.forEach(function(func){return func(screens)}),subscribers.size>=1},subscribe:function(func){return subscribers.size||this.register(),subUid+=1,subscribers.set(subUid,func),func(screens),subUid},unsubscribe:function(token){subscribers.delete(token),subscribers.size||this.unregister()},unregister:function(){var _this=this;Object.keys(responsiveMap).forEach(function(screen){var matchMediaQuery=responsiveMap[screen],handler=_this.matchHandlers[matchMediaQuery];null==handler||handler.mql.removeListener(null==handler?void 0:handler.listener)}),subscribers.clear()},register:function(){var _this2=this;Object.keys(responsiveMap).forEach(function(screen){var matchMediaQuery=responsiveMap[screen],listener=function(_ref){var matches=_ref.matches;_this2.dispatch((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.Z)((0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__.Z)({},screens),(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.Z)({},screen,matches)))},mql=window.matchMedia(matchMediaQuery);mql.addListener(listener),_this2.matchHandlers[matchMediaQuery]={mql:mql,listener:listener},listener(mql)})}}},6226:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return es_col}});var defineProperty=__webpack_require__(4942),esm_extends=__webpack_require__(87462),esm_typeof=__webpack_require__(71002),classnames=__webpack_require__(94184),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__(67294),context=__webpack_require__(53124),RowContext=__webpack_require__(99134),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},sizes=["xs","sm","md","lg","xl","xxl"],es_col=react.forwardRef(function(props,ref){var _classNames,_React$useContext=react.useContext(context.E_),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,_React$useContext2=react.useContext(RowContext.Z),gutter=_React$useContext2.gutter,wrap=_React$useContext2.wrap,supportFlexGap=_React$useContext2.supportFlexGap,customizePrefixCls=props.prefixCls,span=props.span,order=props.order,offset=props.offset,push=props.push,pull=props.pull,className=props.className,children=props.children,flex=props.flex,style=props.style,others=__rest(props,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),prefixCls=getPrefixCls("col",customizePrefixCls),sizeClassObj={};sizes.forEach(function(size){var _extends2,sizeProps={},propSize=props[size];"number"==typeof propSize?sizeProps.span=propSize:"object"===(0,esm_typeof.Z)(propSize)&&(sizeProps=propSize||{}),delete others[size],sizeClassObj=(0,esm_extends.Z)((0,esm_extends.Z)({},sizeClassObj),(_extends2={},(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-").concat(size,"-").concat(sizeProps.span),void 0!==sizeProps.span),(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-").concat(size,"-order-").concat(sizeProps.order),sizeProps.order||0===sizeProps.order),(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-").concat(size,"-offset-").concat(sizeProps.offset),sizeProps.offset||0===sizeProps.offset),(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-").concat(size,"-push-").concat(sizeProps.push),sizeProps.push||0===sizeProps.push),(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-").concat(size,"-pull-").concat(sizeProps.pull),sizeProps.pull||0===sizeProps.pull),(0,defineProperty.Z)(_extends2,"".concat(prefixCls,"-rtl"),"rtl"===direction),_extends2))});var classes=classnames_default()(prefixCls,(_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-").concat(span),void 0!==span),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-order-").concat(order),order),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-offset-").concat(offset),offset),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-push-").concat(push),push),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-pull-").concat(pull),pull),_classNames),className,sizeClassObj),mergedStyle={};if(gutter&&gutter[0]>0){var horizontalGutter=gutter[0]/2;mergedStyle.paddingLeft=horizontalGutter,mergedStyle.paddingRight=horizontalGutter}if(gutter&&gutter[1]>0&&!supportFlexGap){var verticalGutter=gutter[1]/2;mergedStyle.paddingTop=verticalGutter,mergedStyle.paddingBottom=verticalGutter}return flex&&(mergedStyle.flex="number"==typeof flex?"".concat(flex," ").concat(flex," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(flex)?"0 0 ".concat(flex):flex,!1!==wrap||mergedStyle.minWidth||(mergedStyle.minWidth=0)),react.createElement("div",(0,esm_extends.Z)({},others,{style:(0,esm_extends.Z)((0,esm_extends.Z)({},mergedStyle),style),className:classes,ref:ref}),children)})},99134:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var RowContext=(0,__webpack_require__(67294).createContext)({});__webpack_exports__.Z=RowContext},25968:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return es_row}});var esm_extends=__webpack_require__(87462),defineProperty=__webpack_require__(4942),esm_typeof=__webpack_require__(71002),slicedToArray=__webpack_require__(97685),classnames=__webpack_require__(94184),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__(67294),context=__webpack_require__(53124),useFlexGapSupport=__webpack_require__(98082),responsiveObserve=__webpack_require__(24308),type=__webpack_require__(93355),RowContext=__webpack_require__(99134),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t};function useMergePropByScreen(oriProp,screen){var _React$useState=react.useState("string"==typeof oriProp?oriProp:""),_React$useState2=(0,slicedToArray.Z)(_React$useState,2),prop=_React$useState2[0],setProp=_React$useState2[1],clacMergeAlignOrJustify=function(){if("object"===(0,esm_typeof.Z)(oriProp))for(var i=0;i<responsiveObserve.c4.length;i++){var breakpoint=responsiveObserve.c4[i];if(screen[breakpoint]){var curVal=oriProp[breakpoint];if(void 0!==curVal){setProp(curVal);return}}}};return react.useEffect(function(){clacMergeAlignOrJustify()},[JSON.stringify(oriProp),screen]),prop}(0,type.b)("top","middle","bottom","stretch"),(0,type.b)("start","end","center","space-around","space-between","space-evenly");var es_row=react.forwardRef(function(props,ref){var results,_classNames,customizePrefixCls=props.prefixCls,justify=props.justify,align=props.align,className=props.className,style=props.style,children=props.children,_props$gutter=props.gutter,gutter=void 0===_props$gutter?0:_props$gutter,wrap=props.wrap,others=__rest(props,["prefixCls","justify","align","className","style","children","gutter","wrap"]),_React$useContext=react.useContext(context.E_),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,_React$useState3=react.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),_React$useState4=(0,slicedToArray.Z)(_React$useState3,2),screens=_React$useState4[0],setScreens=_React$useState4[1],_React$useState5=react.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),_React$useState6=(0,slicedToArray.Z)(_React$useState5,2),curScreens=_React$useState6[0],setCurScreens=_React$useState6[1],mergeAlign=useMergePropByScreen(align,curScreens),mergeJustify=useMergePropByScreen(justify,curScreens),supportFlexGap=(0,useFlexGapSupport.Z)(),gutterRef=react.useRef(gutter);react.useEffect(function(){var token=responsiveObserve.ZP.subscribe(function(screen){setCurScreens(screen);var currentGutter=gutterRef.current||0;(!Array.isArray(currentGutter)&&"object"===(0,esm_typeof.Z)(currentGutter)||Array.isArray(currentGutter)&&("object"===(0,esm_typeof.Z)(currentGutter[0])||"object"===(0,esm_typeof.Z)(currentGutter[1])))&&setScreens(screen)});return function(){return responsiveObserve.ZP.unsubscribe(token)}},[]);var prefixCls=getPrefixCls("row",customizePrefixCls),gutters=(results=[void 0,void 0],(Array.isArray(gutter)?gutter:[gutter,void 0]).forEach(function(g,index){if("object"===(0,esm_typeof.Z)(g))for(var i=0;i<responsiveObserve.c4.length;i++){var breakpoint=responsiveObserve.c4[i];if(screens[breakpoint]&&void 0!==g[breakpoint]){results[index]=g[breakpoint];break}}else results[index]=g}),results),classes=classnames_default()(prefixCls,(_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-no-wrap"),!1===wrap),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-").concat(mergeJustify),mergeJustify),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-").concat(mergeAlign),mergeAlign),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_classNames),className),rowStyle={},horizontalGutter=null!=gutters[0]&&gutters[0]>0?-(gutters[0]/2):void 0,verticalGutter=null!=gutters[1]&&gutters[1]>0?-(gutters[1]/2):void 0;if(horizontalGutter&&(rowStyle.marginLeft=horizontalGutter,rowStyle.marginRight=horizontalGutter),supportFlexGap){var _gutters=(0,slicedToArray.Z)(gutters,2);rowStyle.rowGap=_gutters[1]}else verticalGutter&&(rowStyle.marginTop=verticalGutter,rowStyle.marginBottom=verticalGutter);var _gutters2=(0,slicedToArray.Z)(gutters,2),gutterH=_gutters2[0],gutterV=_gutters2[1],rowContext=react.useMemo(function(){return{gutter:[gutterH,gutterV],wrap:wrap,supportFlexGap:supportFlexGap}},[gutterH,gutterV,wrap,supportFlexGap]);return react.createElement(RowContext.Z.Provider,{value:rowContext},react.createElement("div",(0,esm_extends.Z)({},others,{className:classes,style:(0,esm_extends.Z)((0,esm_extends.Z)({},rowStyle),style),ref:ref}),children))})},94594:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return es_switch}});var esm_extends=__webpack_require__(87462),defineProperty=__webpack_require__(4942),LoadingOutlined=__webpack_require__(50888),classnames=__webpack_require__(94184),classnames_default=__webpack_require__.n(classnames),slicedToArray=__webpack_require__(97685),objectWithoutProperties=__webpack_require__(45987),react=__webpack_require__(67294),useMergedState=__webpack_require__(21770),KeyCode=__webpack_require__(15105),Switch=react.forwardRef(function(_ref,ref){var _classNames,_ref$prefixCls=_ref.prefixCls,prefixCls=void 0===_ref$prefixCls?"rc-switch":_ref$prefixCls,className=_ref.className,checked=_ref.checked,defaultChecked=_ref.defaultChecked,disabled=_ref.disabled,loadingIcon=_ref.loadingIcon,checkedChildren=_ref.checkedChildren,unCheckedChildren=_ref.unCheckedChildren,onClick=_ref.onClick,onChange=_ref.onChange,onKeyDown=_ref.onKeyDown,restProps=(0,objectWithoutProperties.Z)(_ref,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),_useMergedState=(0,useMergedState.Z)(!1,{value:checked,defaultValue:defaultChecked}),_useMergedState2=(0,slicedToArray.Z)(_useMergedState,2),innerChecked=_useMergedState2[0],setInnerChecked=_useMergedState2[1];function triggerChange(newChecked,event){var mergedChecked=innerChecked;return disabled||(setInnerChecked(mergedChecked=newChecked),null==onChange||onChange(mergedChecked,event)),mergedChecked}var switchClassName=classnames_default()(prefixCls,className,(_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-checked"),innerChecked),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-disabled"),disabled),_classNames));return react.createElement("button",Object.assign({},restProps,{type:"button",role:"switch","aria-checked":innerChecked,disabled:disabled,className:switchClassName,ref:ref,onKeyDown:function(e){e.which===KeyCode.Z.LEFT?triggerChange(!1,e):e.which===KeyCode.Z.RIGHT&&triggerChange(!0,e),null==onKeyDown||onKeyDown(e)},onClick:function(e){var ret=triggerChange(!innerChecked,e);null==onClick||onClick(ret,e)}}),loadingIcon,react.createElement("span",{className:"".concat(prefixCls,"-inner")},innerChecked?checkedChildren:unCheckedChildren))});Switch.displayName="Switch";var context=__webpack_require__(53124),DisabledContext=__webpack_require__(98866),SizeContext=__webpack_require__(97647),wave=__webpack_require__(68349),__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},switch_Switch=react.forwardRef(function(_a,ref){var _classNames,customizePrefixCls=_a.prefixCls,customizeSize=_a.size,customDisabled=_a.disabled,loading=_a.loading,_a$className=_a.className,props=__rest(_a,["prefixCls","size","disabled","loading","className"]),_React$useContext=react.useContext(context.E_),getPrefixCls=_React$useContext.getPrefixCls,direction=_React$useContext.direction,size=react.useContext(SizeContext.Z),disabled=react.useContext(DisabledContext.Z),prefixCls=getPrefixCls("switch",customizePrefixCls),loadingIcon=react.createElement("div",{className:"".concat(prefixCls,"-handle")},loading&&react.createElement(LoadingOutlined.Z,{className:"".concat(prefixCls,"-loading-icon")})),classes=classnames_default()((_classNames={},(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-small"),"small"===(customizeSize||size)),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-loading"),loading),(0,defineProperty.Z)(_classNames,"".concat(prefixCls,"-rtl"),"rtl"===direction),_classNames),void 0===_a$className?"":_a$className);return react.createElement(wave.Z,{insertExtraNode:!0},react.createElement(Switch,(0,esm_extends.Z)({},props,{prefixCls:prefixCls,className:classes,disabled:(null!=customDisabled?customDisabled:disabled)||loading,ref:ref,loadingIcon:loadingIcon})))});switch_Switch.__ANT_SWITCH=!0;var es_switch=switch_Switch},7148:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-notify",function(){return __webpack_require__(4737)}])},73706:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Z:function(){return ToggleSwitch}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67294),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(94594),_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(41983),_FormStatusIndicator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39664),_utils_config_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(90745),_utils_server_status_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(99519);let ToggleSwitch=param=>{let{apiPath,checked,reversed=!1,configPath="",disabled=!1,fieldName,label,tip,useSubmit,onChange}=param,[submitStatus,setSubmitStatus]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),resetTimer=null,serverStatusData=(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_utils_server_status_context__WEBPACK_IMPORTED_MODULE_5__.aC),{setFieldInConfigState}=serverStatusData||{},resetStates=()=>{setSubmitStatus(null),clearTimeout(resetTimer),resetTimer=null},handleChange=async isChecked=>{if(useSubmit){setSubmitStatus((0,_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.kg)(_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.Jk));let isCheckedSend=reversed?!isChecked:isChecked;await (0,_utils_config_constants__WEBPACK_IMPORTED_MODULE_4__.Si)({apiPath,data:{value:isCheckedSend},onSuccess(){setFieldInConfigState({fieldName,value:isCheckedSend,path:configPath}),setSubmitStatus((0,_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.kg)(_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.zv))},onError(message){setSubmitStatus((0,_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.kg)(_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.Un,"There was an error: ".concat(message)))}}),resetTimer=setTimeout(resetStates,_utils_config_constants__WEBPACK_IMPORTED_MODULE_4__.sI)}onChange&&onChange(isChecked)},loading=null!==submitStatus&&submitStatus.type===_utils_input_statuses__WEBPACK_IMPORTED_MODULE_2__.Jk;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"label-side",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"formfield-label",children:label})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-side",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"input-group",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.Z,{className:"switch field-".concat(fieldName),loading:loading,onChange:handleChange,defaultChecked:checked,checked:checked,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:disabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FormStatusIndicator__WEBPACK_IMPORTED_MODULE_3__.E,{status:submitStatus})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"field-tip",children:tip})]})]})};ToggleSwitch.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},4737:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return config_notify_ConfigNotify}});var jsx_runtime=__webpack_require__(85893),typography=__webpack_require__(84485),es_alert=__webpack_require__(14670),row=__webpack_require__(25968),col=__webpack_require__(6226),es_button=__webpack_require__(71577),react=__webpack_require__(67294),next_link=__webpack_require__(41664),link_default=__webpack_require__.n(next_link),server_status_context=__webpack_require__(99519),TextField=__webpack_require__(40117),FormStatusIndicator=__webpack_require__(39664),config_constants=__webpack_require__(90745),ToggleSwitch=__webpack_require__(73706),input_statuses=__webpack_require__(41983);let{Title}=typography.Z,ConfigNotify=()=>{let serverStatusData=(0,react.useContext)(server_status_context.aC),{serverConfig,setFieldInConfigState}=serverStatusData||{},{notifications}=serverConfig||{},{discord}=notifications||{},{enabled,webhook,goLiveMessage}=discord||{},[formDataValues,setFormDataValues]=(0,react.useState)({}),[submitStatus,setSubmitStatus]=(0,react.useState)(null),[enableSaveButton,setEnableSaveButton]=(0,react.useState)(!1);(0,react.useEffect)(()=>{setFormDataValues({enabled,webhook,goLiveMessage})},[notifications,discord]);let canSave=()=>""!==webhook&&""!==goLiveMessage,handleFieldChange=param=>{let{fieldName,value}=param;setFormDataValues({...formDataValues,[fieldName]:value}),setEnableSaveButton(canSave())},resetStates=()=>{setSubmitStatus(null),clearTimeout(null)},save=async()=>{await (0,config_constants.Si)({apiPath:"/notifications/discord",data:{value:formDataValues},onSuccess(){setFieldInConfigState({fieldName:"discord",value:formDataValues,path:"notifications"}),setSubmitStatus((0,input_statuses.kg)(input_statuses.zv,"Updated.")),setTimeout(resetStates,config_constants.sI)},onError(message){setSubmitStatus((0,input_statuses.kg)(input_statuses.Un,message)),setTimeout(resetStates,config_constants.sI)}})},handleSwitchChange=switchEnabled=>{handleFieldChange({fieldName:"enabled",value:switchEnabled})};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Title,{children:"Discord"}),(0,jsx_runtime.jsx)("p",{className:"description reduced-margins",children:"Let your Discord channel know each time you go live."}),(0,jsx_runtime.jsxs)("p",{className:"description reduced-margins",children:[(0,jsx_runtime.jsx)("a",{href:"https://support.discord.com/hc/en-us/articles/228383668",target:"_blank",rel:"noreferrer",children:"Create a webhook"})," ","under ",(0,jsx_runtime.jsx)("i",{children:"Edit Channel / Integrations"})," on your Discord channel and provide it below."]}),(0,jsx_runtime.jsx)(ToggleSwitch.Z,{apiPath:"",fieldName:"discordEnabled",label:"Enable Discord",checked:formDataValues.enabled,onChange:handleSwitchChange}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.oy.webhookUrl,required:!0,value:formDataValues.webhook,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.oy.goLiveMessage,required:!0,value:formDataValues.goLiveMessage,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",onClick:save,style:{display:enableSaveButton?"inline-block":"none",position:"relative",marginLeft:"auto",right:"0",marginTop:"20px"},children:"Save"}),(0,jsx_runtime.jsx)(FormStatusIndicator.E,{status:submitStatus})]})},{Title:browser_Title}=typography.Z,browser_ConfigNotify=()=>{let serverStatusData=(0,react.useContext)(server_status_context.aC),{serverConfig,setFieldInConfigState}=serverStatusData||{},{notifications}=serverConfig||{},{browser}=notifications||{},{enabled,goLiveMessage}=browser||{},[formDataValues,setFormDataValues]=(0,react.useState)({}),[submitStatus,setSubmitStatus]=(0,react.useState)(null),[enableSaveButton,setEnableSaveButton]=(0,react.useState)(!1);(0,react.useEffect)(()=>{setFormDataValues({enabled,goLiveMessage})},[notifications,browser]);let canSave=()=>!0,handleFieldChange=param=>{let{fieldName,value}=param;console.log(fieldName,value),setFormDataValues({...formDataValues,[fieldName]:value}),setEnableSaveButton(canSave())},handleSwitchChange=switchEnabled=>{handleFieldChange({fieldName:"enabled",value:switchEnabled})},resetStates=()=>{setSubmitStatus(null),clearTimeout(null)},save=async()=>{await (0,config_constants.Si)({apiPath:"/notifications/browser",data:{value:formDataValues},onSuccess(){setFieldInConfigState({fieldName:"browser",value:formDataValues,path:"notifications"}),setSubmitStatus((0,input_statuses.kg)(input_statuses.zv,"Updated.")),setTimeout(resetStates,config_constants.sI)},onError(message){setSubmitStatus((0,input_statuses.kg)(input_statuses.Un,message)),setTimeout(resetStates,config_constants.sI)}})};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(browser_Title,{children:"Browser Alerts"}),(0,jsx_runtime.jsx)("p",{className:"description reduced-margins",children:"Viewers can opt into being notified when you go live with their browser."}),(0,jsx_runtime.jsx)("p",{className:"description reduced-margins",children:"Not all browsers support this."}),(0,jsx_runtime.jsx)(ToggleSwitch.Z,{apiPath:"",fieldName:"enabled",label:"Enable browser notifications",onChange:handleSwitchChange,checked:formDataValues.enabled}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.mv.goLiveMessage,required:!0,type:TextField.Sk,value:formDataValues.goLiveMessage,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",style:{display:enableSaveButton?"inline-block":"none",position:"relative",marginLeft:"auto",right:"0",marginTop:"20px"},onClick:save,children:"Save"}),(0,jsx_runtime.jsx)(FormStatusIndicator.E,{status:submitStatus})]})};var TextFieldWithSubmit=__webpack_require__(10135);let{Title:twitter_Title}=typography.Z,twitter_ConfigNotify=()=>{let serverStatusData=(0,react.useContext)(server_status_context.aC),{serverConfig,setFieldInConfigState}=serverStatusData||{},{notifications}=serverConfig||{},{twitter}=notifications||{},[formDataValues,setFormDataValues]=(0,react.useState)({}),[submitStatus,setSubmitStatus]=(0,react.useState)(null),[enableSaveButton,setEnableSaveButton]=(0,react.useState)(!1);(0,react.useEffect)(()=>{let{enabled,apiKey,apiSecret,accessToken,accessTokenSecret,bearerToken,goLiveMessage}=twitter||{};setFormDataValues({enabled,apiKey,apiSecret,accessToken,accessTokenSecret,bearerToken,goLiveMessage})},[twitter]);let canSave=()=>{let{enabled,apiKey,apiSecret,accessToken,accessTokenSecret,bearerToken,goLiveMessage}=formDataValues;return enabled&&!!apiKey&&!!apiSecret&&!!accessToken&&!!accessTokenSecret&&!!bearerToken&&!!goLiveMessage},handleFieldChange=param=>{let{fieldName,value}=param;setFormDataValues({...formDataValues,[fieldName]:value}),setEnableSaveButton(canSave())},handleSwitchChange=switchEnabled=>{let previouslySaved=formDataValues.enabled;return handleFieldChange({fieldName:"enabled",value:switchEnabled}),switchEnabled!==previouslySaved},resetStates=()=>{setSubmitStatus(null),clearTimeout(null),setEnableSaveButton(!1)},save=async()=>{await (0,config_constants.Si)({apiPath:"/notifications/twitter",data:{value:formDataValues},onSuccess(){setFieldInConfigState({fieldName:"twitter",value:formDataValues,path:"notifications"}),setSubmitStatus((0,input_statuses.kg)(input_statuses.zv,"Updated.")),setTimeout(resetStates,config_constants.sI)},onError(message){setSubmitStatus((0,input_statuses.kg)(input_statuses.Un,message)),setTimeout(resetStates,config_constants.sI)}})};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(twitter_Title,{children:"Twitter"}),(0,jsx_runtime.jsx)("p",{className:"description reduced-margins",children:"Let your Twitter followers know each time you go live."}),(0,jsx_runtime.jsxs)("div",{style:{display:formDataValues.enabled?"block":"none"},children:[(0,jsx_runtime.jsxs)("p",{className:"description reduced-margins",children:[(0,jsx_runtime.jsx)("a",{href:"https://owncast.online/docs/notifications",target:"_blank",rel:"noreferrer",children:"Read how to configure your Twitter account"})," ","to support posting from Owncast."]}),(0,jsx_runtime.jsxs)("p",{className:"description reduced-margins",children:[(0,jsx_runtime.jsx)("a",{href:"https://developer.twitter.com/en/portal/dashboard",target:"_blank",rel:"noreferrer",children:"And then get your Twitter developer credentials"})," ","to fill in below."]})]}),(0,jsx_runtime.jsx)(ToggleSwitch.Z,{apiPath:"",fieldName:"enabled",label:"Enable Twitter",onChange:handleSwitchChange,checked:formDataValues.enabled}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.apiKey,required:!0,value:formDataValues.apiKey,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.apiSecret,type:TextField.A8,required:!0,value:formDataValues.apiSecret,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.accessToken,required:!0,value:formDataValues.accessToken,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.accessTokenSecret,type:TextField.A8,required:!0,value:formDataValues.accessTokenSecret,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.bearerToken,required:!0,value:formDataValues.bearerToken,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)("div",{style:{display:formDataValues.enabled?"block":"none"},children:(0,jsx_runtime.jsx)(TextField.nv,{...config_constants.$Z.goLiveMessage,type:TextFieldWithSubmit.Kx,required:!0,value:formDataValues.goLiveMessage,onChange:handleFieldChange})}),(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",onClick:save,style:{display:enableSaveButton?"inline-block":"none",position:"relative",marginLeft:"auto",right:"0",marginTop:"20px"},children:"Save"}),(0,jsx_runtime.jsx)(FormStatusIndicator.E,{status:submitStatus})]})},{Title:federation_Title}=typography.Z,federation_ConfigNotify=()=>{let serverStatusData=(0,react.useContext)(server_status_context.aC),{serverConfig}=serverStatusData||{},{federation}=serverConfig||{},{enabled}=federation||{},[formDataValues,setFormDataValues]=(0,react.useState)({});return(0,react.useEffect)(()=>{setFormDataValues({enabled})},[enabled]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(federation_Title,{children:"Fediverse Social"}),(0,jsx_runtime.jsx)("p",{className:"description",children:"Enabling the Fediverse social features will not just alert people to when you go live, but also enable other functionality."}),(0,jsx_runtime.jsxs)("p",{children:["Fediverse social features:"," ",(0,jsx_runtime.jsx)("span",{style:{color:federation.enabled?"green":"red"},children:formDataValues.enabled?"Enabled":"Disabled"})]}),(0,jsx_runtime.jsx)(link_default(),{passHref:!0,href:"/config-federation",children:(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",style:{position:"relative",marginLeft:"auto",right:"0",marginTop:"20px"},children:"Configure"})})]})};var urls=__webpack_require__(37174);let{Title:config_notify_Title}=typography.Z;function config_notify_ConfigNotify(){let[formDataValues,setFormDataValues]=(0,react.useState)(null),serverStatusData=(0,react.useContext)(server_status_context.aC),{serverConfig}=serverStatusData||{},{yp}=serverConfig,{instanceUrl}=yp,[urlValid,setUrlValid]=(0,react.useState)(!1);(0,react.useEffect)(()=>{setFormDataValues({instanceUrl})},[yp]);let handleSubmitInstanceUrl=()=>{urlValid&&setFormDataValues({...formDataValues,enabled:!1})},handleFieldChange=param=>{let{fieldName,value}=param;setUrlValid((0,urls.Z)(value)),setFormDataValues({...formDataValues,[fieldName]:value})},enabled=""!==instanceUrl,configurationWarning=!enabled&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(es_alert.Z,{message:"You must set your server URL before you can enable this feature.",type:"warning",showIcon:!0}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(TextFieldWithSubmit.$7,{fieldName:"instanceUrl",...config_constants.yi,value:(null==formDataValues?void 0:formDataValues.instanceUrl)||"",initialValue:yp.instanceUrl,type:TextFieldWithSubmit.xA,onChange:handleFieldChange,onSubmit:handleSubmitInstanceUrl,required:!0})]});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(config_notify_Title,{children:"Notifications"}),(0,jsx_runtime.jsxs)("p",{className:"description",children:["Let your viewers know when you go live by supporting any of the below notification channels."," ",(0,jsx_runtime.jsx)("a",{href:"https://owncast.online/docs/notifications/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more about live notifications."})]}),configurationWarning,(0,jsx_runtime.jsxs)(row.Z,{children:[(0,jsx_runtime.jsx)(col.Z,{span:10,className:"form-module ".concat(enabled?"":"disabled"),style:{margin:"5px",display:"flex",flexDirection:"column"},children:(0,jsx_runtime.jsx)(browser_ConfigNotify,{})}),(0,jsx_runtime.jsx)(col.Z,{span:10,className:"form-module ".concat(enabled?"":"disabled"),style:{margin:"5px",display:"flex",flexDirection:"column"},children:(0,jsx_runtime.jsx)(twitter_ConfigNotify,{})}),(0,jsx_runtime.jsx)(col.Z,{span:10,className:"form-module ".concat(enabled?"":"disabled"),style:{margin:"5px",display:"flex",flexDirection:"column"},children:(0,jsx_runtime.jsx)(ConfigNotify,{})}),(0,jsx_runtime.jsx)(col.Z,{span:10,className:"form-module ".concat(enabled?"":"disabled"),style:{margin:"5px",display:"flex",flexDirection:"column"},children:(0,jsx_runtime.jsx)(federation_ConfigNotify,{})}),(0,jsx_runtime.jsxs)(col.Z,{span:10,className:"form-module ".concat(enabled?"":"disabled"),style:{margin:"5px",display:"flex",flexDirection:"column"},children:[(0,jsx_runtime.jsx)(config_notify_Title,{children:"Custom"}),(0,jsx_runtime.jsx)("p",{className:"description",children:"Build your own notifications by using custom webhooks."}),(0,jsx_runtime.jsx)(link_default(),{passHref:!0,href:"/webhooks",children:(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",style:{position:"relative",marginLeft:"auto",right:"0",marginTop:"20px"},children:"Create"})})]})]})]})}}},function(__webpack_require__){__webpack_require__.O(0,[9774,2888,179],function(){return __webpack_require__(__webpack_require__.s=7148)}),_N_E=__webpack_require__.O()}]);