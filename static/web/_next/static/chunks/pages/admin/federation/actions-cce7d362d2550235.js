(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4976],{27561:function(module,__unused_webpack_exports,__webpack_require__){var trimmedEndIndex=__webpack_require__(67990),reTrimStart=/^\s+/;module.exports=function(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},67990:function(module){var reWhitespace=/\s/;module.exports=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},23279:function(module,__unused_webpack_exports,__webpack_require__){var isObject=__webpack_require__(13218),now=__webpack_require__(7771),toNumber=__webpack_require__(14841),nativeMax=Math.max,nativeMin=Math.min;module.exports=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var timeSinceLastCall,timeSinceLastInvoke,timeWaiting,time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,(timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall,maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting))}function trailingEdge(time){return(timerId=void 0,trailing&&lastArgs)?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time,time1=now(),isInvoking=shouldInvoke(time1);if(lastArgs=arguments,lastThis=this,lastCallTime=time1,isInvoking){if(void 0===timerId)return lastInvokeTime=time=lastCallTime,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result;if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced}},33448:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(44239),isObjectLike=__webpack_require__(37005);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},7771:function(module,__unused_webpack_exports,__webpack_require__){var root=__webpack_require__(55639);module.exports=function(){return root.Date.now()}},14841:function(module,__unused_webpack_exports,__webpack_require__){var baseTrim=__webpack_require__(27561),isObject=__webpack_require__(13218),isSymbol=__webpack_require__(33448),NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},10203:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/federation/actions",function(){return __webpack_require__(86419)}])},86419:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return FediverseActions}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67294),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84485),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93626),date_fns_format__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(58091),_utils_apis__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(64777),_utils_format__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(70241);let{Title,Paragraph}=antd__WEBPACK_IMPORTED_MODULE_4__.Z;function FediverseActions(){let[actions,setActions]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[totalCount,setTotalCount]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),[currentPage,setCurrentPage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),getActions=async()=>{try{let u="".concat(_utils_apis__WEBPACK_IMPORTED_MODULE_2__.op,"?offset=").concat(50*currentPage,"&limit=").concat(50),result=await (0,_utils_apis__WEBPACK_IMPORTED_MODULE_2__.rQ)(u,{auth:!0}),{results,total}=result;setTotalCount(total),(0,_utils_format__WEBPACK_IMPORTED_MODULE_3__.Qr)(results)?setActions([]):setActions(results)}catch(error){console.log("==== error",error)}};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{getActions()},[currentPage]);let columns=[{title:"Action",dataIndex:"type",key:"type",width:50,render(_,record){let image,title;switch(record.type){case"FEDIVERSE_ENGAGEMENT_REPOST":image="/img/repost.svg",title="Share";break;case"FEDIVERSE_ENGAGEMENT_LIKE":image="/img/like.svg",title="Like";break;case"FEDIVERSE_ENGAGEMENT_FOLLOW":image="/img/follow.svg",title="Follow";break;default:image=""}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:image,width:"70%",alt:title,title:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{fontSize:"0.7rem"},children:title})]})}},{title:"From",dataIndex:"actorIRI",key:"from",render:(_,record)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a",{href:record.actorIRI,children:record.actorIRI})},{title:"When",dataIndex:"timestamp",key:"timestamp",render(_,record){let dateObject=new Date(record.timestamp);return(0,date_fns_format__WEBPACK_IMPORTED_MODULE_5__.Z)(dateObject,"P pp")}}];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Title,{level:3,children:"Fediverse Actions"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Paragraph,{children:"Below is a list of actions that were taken by others in response to your posts as well as people who requested to follow you."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.Z,{dataSource:actions,columns:columns,size:"small",rowKey:row=>row.iri,pagination:{pageSize:50,hideOnSinglePage:!0,showSizeChanger:!1,total:totalCount},onChange(pagination){let page=pagination.current;setCurrentPage(page)}})]})}}},function(__webpack_require__){__webpack_require__.O(0,[8939,3903,4267,3626,8091,9774,2888,179],function(){return __webpack_require__(__webpack_require__.s=10203)}),_N_E=__webpack_require__.O()}]);