(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955,1496],{30672:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/embed/chat/readwrite",function(){return __webpack_require__(34986)}])},37527:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return Header},Z:function(){return Header_Header}});var jsx_runtime=__webpack_require__(85893),layout=__webpack_require__(97183),tooltip=__webpack_require__(94199),tag=__webpack_require__(20550),classnames=__webpack_require__(94184),classnames_default=__webpack_require__.n(classnames),es_menu=__webpack_require__(66516),dropdown=__webpack_require__(38504),es_button=__webpack_require__(71577),space=__webpack_require__(26713),EditOutlined=__webpack_require__(86548),LockOutlined=__webpack_require__(94149),MessageOutlined=__webpack_require__(38545),UserOutlined=__webpack_require__(87547),CaretDownOutlined=__webpack_require__(39398),es=__webpack_require__(4480),react=__webpack_require__(67294),react_hotkeys_hook_esm=__webpack_require__(49218),dynamic=__webpack_require__(5152),dynamic_default=__webpack_require__.n(dynamic),ClientConfigStore=__webpack_require__(77466),UserDropdown_module=__webpack_require__(79252),UserDropdown_module_default=__webpack_require__.n(UserDropdown_module);let Modal=dynamic_default()(()=>__webpack_require__.e(4761).then(__webpack_require__.bind(__webpack_require__,14761)).then(mod=>mod.Modal),{loadableGenerated:{webpack:()=>[14761]}}),NameChangeModal=dynamic_default()(()=>Promise.all([__webpack_require__.e(8939),__webpack_require__.e(9096)]).then(__webpack_require__.bind(__webpack_require__,59096)).then(mod=>mod.NameChangeModal),{loadableGenerated:{webpack:()=>[59096]}}),AuthModal=dynamic_default()(()=>Promise.all([__webpack_require__.e(4381),__webpack_require__.e(5535)]).then(__webpack_require__.bind(__webpack_require__,65535)).then(mod=>mod.AuthModal),{loadableGenerated:{webpack:()=>[65535]}}),UserDropdown=param=>{let{username:defaultUsername}=param,[showNameChangeModal,setShowNameChangeModal]=(0,react.useState)(!1),[showAuthModal,setShowAuthModal]=(0,react.useState)(!1),[chatToggleVisible,setChatToggleVisible]=(0,es.FV)(ClientConfigStore.ZA),appState=(0,es.sJ)(ClientConfigStore.Q),toggleChatVisibility=()=>{setChatToggleVisible(!chatToggleVisible)},handleChangeName=()=>{setShowNameChangeModal(!0)};(0,react_hotkeys_hook_esm.y1)("c",toggleChatVisibility,{enableOnContentEditable:!1},[chatToggleVisible]);let currentUser=(0,es.sJ)(ClientConfigStore.db);if(!currentUser)return null;let{displayName}=currentUser,menu=(0,jsx_runtime.jsxs)(es_menu.Z,{children:[(0,jsx_runtime.jsx)(es_menu.Z.Item,{icon:(0,jsx_runtime.jsx)(EditOutlined.Z,{}),onClick:()=>handleChangeName(),children:"Change name"},"0"),(0,jsx_runtime.jsx)(es_menu.Z.Item,{icon:(0,jsx_runtime.jsx)(LockOutlined.Z,{}),onClick:()=>setShowAuthModal(!0),children:"Authenticate"},"1"),appState.chatAvailable&&(0,jsx_runtime.jsx)(es_menu.Z.Item,{icon:(0,jsx_runtime.jsx)(MessageOutlined.Z,{}),onClick:()=>toggleChatVisibility(),children:"Toggle chat"},"3")]});return(0,jsx_runtime.jsxs)("div",{id:"user-menu",className:"".concat(UserDropdown_module_default().root),children:[(0,jsx_runtime.jsx)(dropdown.Z,{overlay:menu,trigger:["click"],children:(0,jsx_runtime.jsx)(es_button.Z,{type:"primary",icon:(0,jsx_runtime.jsx)(UserOutlined.Z,{style:{marginRight:".5rem"}}),children:(0,jsx_runtime.jsxs)(space.Z,{children:[defaultUsername||displayName,(0,jsx_runtime.jsx)(CaretDownOutlined.Z,{})]})})}),(0,jsx_runtime.jsx)(Modal,{title:"Change Chat Display Name",open:showNameChangeModal,handleCancel:()=>setShowNameChangeModal(!1),children:(0,jsx_runtime.jsx)(NameChangeModal,{})}),(0,jsx_runtime.jsx)(Modal,{title:"Authenticate",open:showAuthModal,handleCancel:()=>setShowAuthModal(!1),children:(0,jsx_runtime.jsx)(AuthModal,{})})]})};var OwncastLogo=__webpack_require__(50738),Header_module=__webpack_require__(31764),Header_module_default=__webpack_require__.n(Header_module);let{Header:AntHeader}=layout.Z,Header=param=>{let{name="Your stream title",chatAvailable,chatDisabled}=param;return(0,jsx_runtime.jsxs)(AntHeader,{className:classnames_default()(["".concat(Header_module_default().header)],"global-header"),children:[(0,jsx_runtime.jsxs)("div",{className:"".concat(Header_module_default().logo),children:[(0,jsx_runtime.jsx)(OwncastLogo.C,{variant:"contrast"}),(0,jsx_runtime.jsx)("span",{className:"global-header-text",children:name})]}),chatAvailable&&!chatDisabled&&(0,jsx_runtime.jsx)(UserDropdown,{}),!chatAvailable&&!chatDisabled&&(0,jsx_runtime.jsx)(tooltip.Z,{title:"Chat is available when the stream is live.",placement:"left",children:(0,jsx_runtime.jsx)(tag.Z,{style:{cursor:"pointer"},children:"Chat offline"})})]})};var Header_Header=Header},34986:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return ReadWriteChatEmbed}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85893),recoil__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4480),_components_chat_ChatContainer_ChatContainer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(94977),_components_stores_ClientConfigStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(77466),_components_ui_Header_Header__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(37527);function ReadWriteChatEmbed(){let currentUser=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.sJ)(_components_stores_ClientConfigStore__WEBPACK_IMPORTED_MODULE_3__.db),messages=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.sJ)(_components_stores_ClientConfigStore__WEBPACK_IMPORTED_MODULE_3__.pH),clientConfig=(0,recoil__WEBPACK_IMPORTED_MODULE_1__.sJ)(_components_stores_ClientConfigStore__WEBPACK_IMPORTED_MODULE_3__.g1),{name,chatDisabled}=clientConfig;if(!currentUser)return null;let{id,displayName,isModerator}=currentUser;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_stores_ClientConfigStore__WEBPACK_IMPORTED_MODULE_3__.me,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_Header_Header__WEBPACK_IMPORTED_MODULE_4__.Z,{name:name,chatAvailable:!0,chatDisabled:chatDisabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_chat_ChatContainer_ChatContainer__WEBPACK_IMPORTED_MODULE_2__.ChatContainer,{messages:messages,usernameToHighlight:displayName,chatUserId:id,isModerator:isModerator,showInput:!0,height:"80vh"})]})}},79252:function(module){module.exports={root:"UserDropdown_root__IdxfQ","ant-space":"UserDropdown_ant-space__XJTZ3","ant-space-item":"UserDropdown_ant-space-item__w4nC2"}},31764:function(module){module.exports={header:"Header_header__U4Ro1",logo:"Header_logo__HLZ6Z"}}},function(__webpack_require__){__webpack_require__.O(0,[1272,8700,3903,6395,2852,911,7466,4977,9774,2888,179],function(){return __webpack_require__(__webpack_require__.s=30672)}),_N_E=__webpack_require__.O()}]);