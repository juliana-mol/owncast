"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8700],{96391:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{BU:function(){return withReact},CX:function(){return Editable},F3:function(){return ReactEditor},UE:function(){return useFocused},mH:function(){return Slate},vt:function(){return useSelected}});var direction__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6907),direction__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(direction__WEBPACK_IMPORTED_MODULE_0__),lodash_debounce__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(23279),lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__),lodash_throttle__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(23493),lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67294),scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(12615),slate__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77493),is_hotkey__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18156),react_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(73935);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var n=0;class Key{constructor(){this.id="".concat(n++)}}var NODE_TO_INDEX=new WeakMap,NODE_TO_PARENT=new WeakMap,EDITOR_TO_WINDOW=new WeakMap,EDITOR_TO_ELEMENT=new WeakMap,EDITOR_TO_PLACEHOLDER_ELEMENT=new WeakMap,ELEMENT_TO_NODE=new WeakMap,NODE_TO_ELEMENT=new WeakMap,NODE_TO_KEY=new WeakMap,EDITOR_TO_KEY_TO_ELEMENT=new WeakMap,IS_READ_ONLY=new WeakMap,IS_FOCUSED=new WeakMap,IS_COMPOSING=new WeakMap,EDITOR_TO_USER_SELECTION=new WeakMap,EDITOR_TO_ON_CHANGE=new WeakMap,EDITOR_TO_SCHEDULE_FLUSH=new WeakMap,EDITOR_TO_PENDING_INSERTION_MARKS=new WeakMap,EDITOR_TO_USER_MARKS=new WeakMap,EDITOR_TO_PENDING_DIFFS=new WeakMap,EDITOR_TO_PENDING_ACTION=new WeakMap,EDITOR_TO_PENDING_SELECTION=new WeakMap,EDITOR_TO_FORCE_RENDER=new WeakMap,PLACEHOLDER_SYMBOL=Symbol("placeholder"),MARK_PLACEHOLDER_SYMBOL=Symbol("mark-placeholder"),DOMText=globalThis.Text,getDefaultView=value=>value&&value.ownerDocument&&value.ownerDocument.defaultView||null,isDOMComment=value=>isDOMNode(value)&&8===value.nodeType,isDOMElement=value=>isDOMNode(value)&&1===value.nodeType,isDOMNode=value=>{var window1=getDefaultView(value);return!!window1&&value instanceof window1.Node},isDOMSelection=value=>{var window1=value&&value.anchorNode&&getDefaultView(value.anchorNode);return!!window1&&value instanceof window1.Selection},isDOMText=value=>isDOMNode(value)&&3===value.nodeType,isPlainTextOnlyPaste=event=>event.clipboardData&&""!==event.clipboardData.getData("text/plain")&&1===event.clipboardData.types.length,normalizeDOMPoint=domPoint=>{var[node,offset]=domPoint;if(isDOMElement(node)&&node.childNodes.length){var isLast=offset===node.childNodes.length,index=isLast?offset-1:offset;for([node,index]=getEditableChildAndIndex(node,index,isLast?"backward":"forward"),isLast=index<offset;isDOMElement(node)&&node.childNodes.length;){var i=isLast?node.childNodes.length-1:0;node=getEditableChild(node,i,isLast?"backward":"forward")}offset=isLast&&null!=node.textContent?node.textContent.length:0}return[node,offset]},hasShadowRoot=()=>!!(window.document.activeElement&&window.document.activeElement.shadowRoot),getEditableChildAndIndex=(parent,index,direction)=>{for(var{childNodes}=parent,child=childNodes[index],i=index,triedForward=!1,triedBackward=!1;(isDOMComment(child)||isDOMElement(child)&&0===child.childNodes.length||isDOMElement(child)&&"false"===child.getAttribute("contenteditable"))&&(!triedForward||!triedBackward);){if(i>=childNodes.length){triedForward=!0,i=index-1,direction="backward";continue}if(i<0){triedBackward=!0,i=index+1,direction="forward";continue}child=childNodes[i],index=i,i+="forward"===direction?1:-1}return[child,index]},getEditableChild=(parent,index,direction)=>{var[child]=getEditableChildAndIndex(parent,index,direction);return child},getPlainText=domNode=>{var text="";if(isDOMText(domNode)&&domNode.nodeValue)return domNode.nodeValue;if(isDOMElement(domNode)){for(var childNode of Array.from(domNode.childNodes))text+=getPlainText(childNode);var display=getComputedStyle(domNode).getPropertyValue("display");("block"===display||"list"===display||"BR"===domNode.tagName)&&(text+="\n")}return text},catchSlateFragment=/data-slate-fragment="(.+?)"/m,getSlateFragmentAttribute=dataTransfer=>{var[,fragment]=dataTransfer.getData("text/html").match(catchSlateFragment)||[];return fragment},isTrackedMutation=(editor,mutation,batch)=>{var{target}=mutation;if(isDOMElement(target)&&target.matches('[contentEditable="false"]'))return!1;var{document:document1}=ReactEditor.getWindow(editor);if(document1.contains(target))return ReactEditor.hasDOMNode(editor,target,{editable:!0});var parentMutation=batch.find(_ref=>{var{addedNodes,removedNodes}=_ref;for(var node of addedNodes)if(node===target||node.contains(target))return!0;for(var _node of removedNodes)if(_node===target||_node.contains(target))return!0});return!!parentMutation&&parentMutation!==mutation&&isTrackedMutation(editor,parentMutation,batch)},IS_REACT_VERSION_17_OR_ABOVE=parseInt(react__WEBPACK_IMPORTED_MODULE_3__.version.split(".")[0],10)>=17,IS_IOS="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IS_APPLE="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),IS_ANDROID="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),IS_FIREFOX="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),IS_SAFARI="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),IS_EDGE_LEGACY="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),IS_CHROME="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),IS_CHROME_LEGACY="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),IS_FIREFOX_LEGACY="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),IS_QQBROWSER="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),IS_UC_MOBILE="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),IS_WECHATBROWSER="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),CAN_USE_DOM=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),HAS_BEFORE_INPUT_SUPPORT=!IS_CHROME_LEGACY&&!IS_EDGE_LEGACY&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,ReactEditor={isComposing:editor=>!!IS_COMPOSING.get(editor),getWindow(editor){var window1=EDITOR_TO_WINDOW.get(editor);if(!window1)throw Error("Unable to find a host window element for this editor");return window1},findKey(editor,node){var key=NODE_TO_KEY.get(node);return key||(key=new Key,NODE_TO_KEY.set(node,key)),key},findPath(editor,node){for(var path=[],child=node;;){var parent=NODE_TO_PARENT.get(child);if(null==parent){if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isEditor(child))return path;break}var i=NODE_TO_INDEX.get(child);if(null==i)break;path.unshift(i),child=parent}throw Error("Unable to find the path for Slate node: ".concat(slate__WEBPACK_IMPORTED_MODULE_6__.o4.stringify(node)))},findDocumentOrShadowRoot(editor){var el=ReactEditor.toDOMNode(editor,editor),root=el.getRootNode();return(root instanceof Document||root instanceof ShadowRoot)&&null!=root.getSelection?root:el.ownerDocument},isFocused:editor=>!!IS_FOCUSED.get(editor),isReadOnly:editor=>!!IS_READ_ONLY.get(editor),blur(editor){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!1),root.activeElement===el&&el.blur()},focus(editor){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!0),root.activeElement!==el&&el.focus({preventScroll:!0})},deselect(editor){var{selection}=editor,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();domSelection&&domSelection.rangeCount>0&&domSelection.removeAllRanges(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.deselect(editor)},hasDOMNode(editor,target){var targetEl,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable=!1}=options,editorEl=ReactEditor.toDOMNode(editor,editor);try{targetEl=isDOMElement(target)?target:target.parentElement}catch(err){if(!err.message.includes('Permission denied to access property "nodeType"'))throw err}return!!targetEl&&targetEl.closest("[data-slate-editor]")===editorEl&&(!editable||!!targetEl.isContentEditable||"boolean"==typeof targetEl.isContentEditable&&targetEl.closest('[contenteditable="false"]')===editorEl||!!targetEl.getAttribute("data-slate-zero-width"))},insertData(editor,data){editor.insertData(data)},insertFragmentData:(editor,data)=>editor.insertFragmentData(data),insertTextData:(editor,data)=>editor.insertTextData(data),setFragmentData(editor,data,originEvent){editor.setFragmentData(data,originEvent)},toDOMNode(editor,node){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor),domNode=slate__WEBPACK_IMPORTED_MODULE_6__.ML.isEditor(node)?EDITOR_TO_ELEMENT.get(editor):null==KEY_TO_ELEMENT?void 0:KEY_TO_ELEMENT.get(ReactEditor.findKey(editor,node));if(!domNode)throw Error("Cannot resolve a DOM node from Slate node: ".concat(slate__WEBPACK_IMPORTED_MODULE_6__.o4.stringify(node)));return domNode},toDOMPoint(editor,point){var[node]=slate__WEBPACK_IMPORTED_MODULE_6__.ML.node(editor,point.path),el=ReactEditor.toDOMNode(editor,node);slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor,{at:point})&&(point={path:point.path,offset:0});for(var texts=Array.from(el.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),start=0,i=0;i<texts.length;i++){var text=texts[i],domNode=text.childNodes[0];if(null!=domNode&&null!=domNode.textContent){var{length}=domNode.textContent,attr=text.getAttribute("data-slate-length"),end=start+(null==attr?length:parseInt(attr,10)),nextText=texts[i+1];if(point.offset===end&&null!=nextText&&nextText.hasAttribute("data-slate-mark-placeholder")){var domPoint,_nextText$textContent,domText=nextText.childNodes[0];domPoint=[domText instanceof DOMText?domText:nextText,null!==(_nextText$textContent=nextText.textContent)&&void 0!==_nextText$textContent&&_nextText$textContent.startsWith("\uFEFF")?1:0];break}if(point.offset<=end){domPoint=[domNode,Math.min(length,Math.max(0,point.offset-start))];break}start=end}}if(!domPoint)throw Error("Cannot resolve a DOM point from Slate point: ".concat(slate__WEBPACK_IMPORTED_MODULE_6__.o4.stringify(point)));return domPoint},toDOMRange(editor,range){var{anchor,focus}=range,isBackward=slate__WEBPACK_IMPORTED_MODULE_6__.e6.isBackward(range),domAnchor=ReactEditor.toDOMPoint(editor,anchor),domFocus=slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(range)?domAnchor:ReactEditor.toDOMPoint(editor,focus),domRange=ReactEditor.getWindow(editor).document.createRange(),[startNode,startOffset]=isBackward?domFocus:domAnchor,[endNode,endOffset]=isBackward?domAnchor:domFocus,isStartAtZeroWidth=!!(isDOMElement(startNode)?startNode:startNode.parentElement).getAttribute("data-slate-zero-width"),isEndAtZeroWidth=!!(isDOMElement(endNode)?endNode:endNode.parentElement).getAttribute("data-slate-zero-width");return domRange.setStart(startNode,isStartAtZeroWidth?1:startOffset),domRange.setEnd(endNode,isEndAtZeroWidth?1:endOffset),domRange},toSlateNode(editor,domNode){var domEl=isDOMElement(domNode)?domNode:domNode.parentElement;domEl&&!domEl.hasAttribute("data-slate-node")&&(domEl=domEl.closest("[data-slate-node]"));var node=domEl?ELEMENT_TO_NODE.get(domEl):null;if(!node)throw Error("Cannot resolve a Slate node from DOM node: ".concat(domEl));return node},findEventRange(editor,event){"nativeEvent"in event&&(event=event.nativeEvent);var domRange,{clientX:x,clientY:y,target}=event;if(null==x||null==y)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(event));var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor,node)){var rect=target.getBoundingClientRect(),isPrev=editor.isInline(node)?x-rect.left<rect.left+rect.width-x:y-rect.top<rect.top+rect.height-y,edge=slate__WEBPACK_IMPORTED_MODULE_6__.ML.point(editor,path,{edge:isPrev?"start":"end"}),point=isPrev?slate__WEBPACK_IMPORTED_MODULE_6__.ML.before(editor,edge):slate__WEBPACK_IMPORTED_MODULE_6__.ML.after(editor,edge);if(point)return slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,point)}var{document:document1}=ReactEditor.getWindow(editor);if(document1.caretRangeFromPoint)domRange=document1.caretRangeFromPoint(x,y);else{var position=document1.caretPositionFromPoint(x,y);position&&((domRange=document1.createRange()).setStart(position.offsetNode,position.offset),domRange.setEnd(position.offsetNode,position.offset))}if(!domRange)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(event));return ReactEditor.toSlateRange(editor,domRange,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(editor,domPoint,options){var{exactMatch,suppressThrow}=options,[nearestNode,nearestOffset]=exactMatch?domPoint:normalizeDOMPoint(domPoint),parentNode=nearestNode.parentNode,textNode=null,offset=0;if(parentNode){var _domNode$textContent,_domNode$textContent2,editorEl=ReactEditor.toDOMNode(editor,editor),potentialVoidNode=parentNode.closest('[data-slate-void="true"]'),voidNode=potentialVoidNode&&editorEl.contains(potentialVoidNode)?potentialVoidNode:null,leafNode=parentNode.closest("[data-slate-leaf]"),domNode=null;if(leafNode){if(textNode=leafNode.closest('[data-slate-node="text"]')){var range=ReactEditor.getWindow(editor).document.createRange();range.setStart(textNode,0),range.setEnd(nearestNode,nearestOffset);var contents=range.cloneContents();[...Array.prototype.slice.call(contents.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(contents.querySelectorAll("[contenteditable=false]"))].forEach(el=>{if(IS_ANDROID&&!exactMatch&&el.hasAttribute("data-slate-zero-width")&&el.textContent.length>0&&"\uFEFF"!==el.textContext){el.textContent.startsWith("\uFEFF")&&(el.textContent=el.textContent.slice(1));return}el.parentNode.removeChild(el)}),offset=contents.textContent.length,domNode=textNode}}else if(voidNode){for(var leafNodes=voidNode.querySelectorAll("[data-slate-leaf]"),index=0;index<leafNodes.length;index++){var current=leafNodes[index];if(ReactEditor.hasDOMNode(editor,current)){leafNode=current;break}}leafNode?(textNode=leafNode.closest('[data-slate-node="text"]'),offset=(domNode=leafNode).textContent.length,domNode.querySelectorAll("[data-slate-zero-width]").forEach(el=>{offset-=el.textContent.length})):offset=1}domNode&&offset===domNode.textContent.length&&IS_ANDROID&&"z"===domNode.getAttribute("data-slate-zero-width")&&null!==(_domNode$textContent=domNode.textContent)&&void 0!==_domNode$textContent&&_domNode$textContent.startsWith("\uFEFF")&&(parentNode.hasAttribute("data-slate-zero-width")||IS_FIREFOX&&null!==(_domNode$textContent2=domNode.textContent)&&void 0!==_domNode$textContent2&&_domNode$textContent2.endsWith("\n\n"))&&offset--}if(IS_ANDROID&&!textNode&&!exactMatch){var node=parentNode.hasAttribute("data-slate-node")?parentNode:parentNode.closest("[data-slate-node]");if(node&&ReactEditor.hasDOMNode(editor,node,{editable:!0})){var _slateNode=ReactEditor.toSlateNode(editor,node),{path:_path,offset:_offset}=slate__WEBPACK_IMPORTED_MODULE_6__.ML.start(editor,ReactEditor.findPath(editor,_slateNode));return node.querySelector("[data-slate-leaf]")||(_offset=nearestOffset),{path:_path,offset:_offset}}}if(!textNode){if(suppressThrow)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(domPoint))}var slateNode=ReactEditor.toSlateNode(editor,textNode),path=ReactEditor.findPath(editor,slateNode);return{path,offset}},toSlateRange(editor,domRange,options){var anchorNode,anchorOffset,focusNode,focusOffset,isCollapsed,{exactMatch,suppressThrow}=options;if((isDOMSelection(domRange)?domRange.anchorNode:domRange.startContainer)&&(isDOMSelection(domRange)?(anchorNode=domRange.anchorNode,anchorOffset=domRange.anchorOffset,focusNode=domRange.focusNode,focusOffset=domRange.focusOffset,isCollapsed=IS_CHROME&&hasShadowRoot()?domRange.anchorNode===domRange.focusNode&&domRange.anchorOffset===domRange.focusOffset:domRange.isCollapsed):(anchorNode=domRange.startContainer,anchorOffset=domRange.startOffset,focusNode=domRange.endContainer,focusOffset=domRange.endOffset,isCollapsed=domRange.collapsed)),null==anchorNode||null==focusNode||null==anchorOffset||null==focusOffset)throw Error("Cannot resolve a Slate range from DOM range: ".concat(domRange));var anchor=ReactEditor.toSlatePoint(editor,[anchorNode,anchorOffset],{exactMatch,suppressThrow});if(!anchor)return null;var focus=isCollapsed?anchor:ReactEditor.toSlatePoint(editor,[focusNode,focusOffset],{exactMatch,suppressThrow});if(!focus)return null;var range={anchor:anchor,focus:focus};return slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(range)&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isForward(range)&&isDOMElement(focusNode)&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor,{at:range.focus,mode:"highest"})&&(range=slate__WEBPACK_IMPORTED_MODULE_6__.ML.unhangRange(editor,range,{voids:!0})),range},hasRange(editor,range){var{anchor,focus}=range;return slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor,anchor.path)&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor,focus.path)},androidScheduleFlush(editor){var _EDITOR_TO_SCHEDULE_F;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(editor))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F()},androidPendingDiffs:editor=>EDITOR_TO_PENDING_DIFFS.get(editor)},useIsomorphicLayoutEffect=CAN_USE_DOM?react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_3__.useEffect,_excluded$3=["anchor","focus"],_excluded2$1=["anchor","focus"],shallowCompare=(obj1,obj2)=>Object.keys(obj1).length===Object.keys(obj2).length&&Object.keys(obj1).every(key=>obj2.hasOwnProperty(key)&&obj1[key]===obj2[key]),isDecoratorRangeListEqual=(list,another)=>{if(list.length!==another.length)return!1;for(var i=0;i<list.length;i++){var range=list[i],other=another[i],rangeOwnProps=_objectWithoutProperties(range,_excluded$3),otherOwnProps=_objectWithoutProperties(other,_excluded2$1);if(!slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(range,other)||range[PLACEHOLDER_SYMBOL]!==other[PLACEHOLDER_SYMBOL]||!shallowCompare(rangeOwnProps,otherOwnProps))return!1}return!0},String=props=>{var{isLast,leaf,parent,text}=props,editor=useSlateStatic(),path=ReactEditor.findPath(editor,text),parentPath=slate__WEBPACK_IMPORTED_MODULE_6__.y$.parent(path),isMarkPlaceholder=!0===leaf[MARK_PLACEHOLDER_SYMBOL];return editor.isVoid(parent)?react__WEBPACK_IMPORTED_MODULE_3__.createElement(ZeroWidthString,{length:slate__WEBPACK_IMPORTED_MODULE_6__.NB.string(parent).length}):""!==leaf.text||parent.children[parent.children.length-1]!==text||editor.isInline(parent)||""!==slate__WEBPACK_IMPORTED_MODULE_6__.ML.string(editor,parentPath)?""===leaf.text?react__WEBPACK_IMPORTED_MODULE_3__.createElement(ZeroWidthString,{isMarkPlaceholder:isMarkPlaceholder}):isLast&&"\n"===leaf.text.slice(-1)?react__WEBPACK_IMPORTED_MODULE_3__.createElement(TextString,{isTrailing:!0,text:leaf.text}):react__WEBPACK_IMPORTED_MODULE_3__.createElement(TextString,{text:leaf.text}):react__WEBPACK_IMPORTED_MODULE_3__.createElement(ZeroWidthString,{isLineBreak:!0,isMarkPlaceholder:isMarkPlaceholder})},TextString=props=>{var{text,isTrailing=!1}=props,ref=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null),getTextContent=()=>"".concat(null!=text?text:"").concat(isTrailing?"\n":"");return(useIsomorphicLayoutEffect(()=>{var textWithTrailing=getTextContent();ref.current&&ref.current.textContent!==textWithTrailing&&(ref.current.textContent=textWithTrailing)}),ref.current)?react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{"data-slate-string":!0,ref:ref}):react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{"data-slate-string":!0,ref:ref},getTextContent())},ZeroWidthString=props=>{var{length=0,isLineBreak=!1,isMarkPlaceholder=!1}=props,attributes={"data-slate-zero-width":isLineBreak?"n":"z","data-slate-length":length};return isMarkPlaceholder&&(attributes["data-slate-mark-placeholder"]=!0),react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",Object.assign({},attributes),IS_ANDROID&&isLineBreak?null:"\uFEFF",isLineBreak?react__WEBPACK_IMPORTED_MODULE_3__.createElement("br",null):null)},EditorContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null),useSlateStatic=()=>{var editor=(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(EditorContext);if(!editor)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return editor},Leaf=props=>{var{leaf,isLast,text,parent,renderPlaceholder,renderLeaf=props=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(DefaultLeaf,Object.assign({},props))}=props,placeholderRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null),editor=useSlateStatic();(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{var placeholderEl=null==placeholderRef?void 0:placeholderRef.current,editorEl=ReactEditor.toDOMNode(editor,editor);if(placeholderEl&&editorEl)return editorEl.style.minHeight="".concat(placeholderEl.clientHeight,"px"),EDITOR_TO_PLACEHOLDER_ELEMENT.set(editor,placeholderEl),()=>{editorEl.style.minHeight="auto",EDITOR_TO_PLACEHOLDER_ELEMENT.delete(editor)}},[placeholderRef,leaf]);var children=react__WEBPACK_IMPORTED_MODULE_3__.createElement(String,{isLast:isLast,leaf:leaf,parent:parent,text:text});if(leaf[PLACEHOLDER_SYMBOL]){var placeholderProps={children:leaf.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:placeholderRef}};children=react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,renderPlaceholder(placeholderProps),children)}return renderLeaf({attributes:{"data-slate-leaf":!0},children,leaf,text})},MemoizedLeaf=react__WEBPACK_IMPORTED_MODULE_3__.memo(Leaf,(prev,next)=>next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text&&slate__WEBPACK_IMPORTED_MODULE_6__.xv.equals(next.leaf,prev.leaf)&&next.leaf[PLACEHOLDER_SYMBOL]===prev.leaf[PLACEHOLDER_SYMBOL]),DefaultLeaf=props=>{var{attributes,children}=props;return react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",Object.assign({},attributes),children)},Text=props=>{for(var{decorations,isLast,parent,renderPlaceholder,renderLeaf,text}=props,editor=useSlateStatic(),ref=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null),leaves=slate__WEBPACK_IMPORTED_MODULE_6__.xv.decorations(text,decorations),key=ReactEditor.findKey(editor,text),children=[],i=0;i<leaves.length;i++){var leaf=leaves[i];children.push(react__WEBPACK_IMPORTED_MODULE_3__.createElement(MemoizedLeaf,{isLast:isLast&&i===leaves.length-1,key:"".concat(key.id,"-").concat(i),renderPlaceholder:renderPlaceholder,leaf:leaf,text:text,parent:parent,renderLeaf:renderLeaf}))}return useIsomorphicLayoutEffect(()=>{var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref.current?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref.current),NODE_TO_ELEMENT.set(text,ref.current),ELEMENT_TO_NODE.set(ref.current,text)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(text))}),react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",{"data-slate-node":"text",ref:ref},children)},MemoizedText=react__WEBPACK_IMPORTED_MODULE_3__.memo(Text,(prev,next)=>next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.text===prev.text&&isDecoratorRangeListEqual(next.decorations,prev.decorations)),Element=props=>{var{decorations,element,renderElement=p=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(DefaultElement,Object.assign({},p)),renderPlaceholder,renderLeaf,selection}=props,editor=useSlateStatic(),readOnly=useReadOnly(),isInline=editor.isInline(element),key=ReactEditor.findKey(editor,element),ref=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(ref=>{var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref),NODE_TO_ELEMENT.set(element,ref),ELEMENT_TO_NODE.set(ref,element)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(element))},[editor,key,element]),children=useChildren({decorations,node:element,renderElement,renderPlaceholder,renderLeaf,selection}),attributes={"data-slate-node":"element",ref};if(isInline&&(attributes["data-slate-inline"]=!0),!isInline&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasInlines(editor,element)){var text=slate__WEBPACK_IMPORTED_MODULE_6__.NB.string(element),dir=direction__WEBPACK_IMPORTED_MODULE_0___default()(text);"rtl"===dir&&(attributes.dir=dir)}if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor,element)){attributes["data-slate-void"]=!0,!readOnly&&isInline&&(attributes.contentEditable=!1);var[[_text]]=slate__WEBPACK_IMPORTED_MODULE_6__.NB.texts(element);children=react__WEBPACK_IMPORTED_MODULE_3__.createElement(isInline?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},react__WEBPACK_IMPORTED_MODULE_3__.createElement(MemoizedText,{renderPlaceholder:renderPlaceholder,decorations:[],isLast:!1,parent:element,text:_text})),NODE_TO_INDEX.set(_text,0),NODE_TO_PARENT.set(_text,element)}return renderElement({attributes,children,element})},MemoizedElement=react__WEBPACK_IMPORTED_MODULE_3__.memo(Element,(prev,next)=>prev.element===next.element&&prev.renderElement===next.renderElement&&prev.renderLeaf===next.renderLeaf&&isDecoratorRangeListEqual(prev.decorations,next.decorations)&&(prev.selection===next.selection||!!prev.selection&&!!next.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(prev.selection,next.selection))),DefaultElement=props=>{var{attributes,children,element}=props,Tag=useSlateStatic().isInline(element)?"span":"div";return react__WEBPACK_IMPORTED_MODULE_3__.createElement(Tag,Object.assign({},attributes,{style:{position:"relative"}}),children)},DecorateContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(()=>[]),useDecorate=()=>(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(DecorateContext),SelectedContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(!1),useSelected=()=>(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectedContext),useChildren=props=>{for(var{decorations,node,renderElement,renderPlaceholder,renderLeaf,selection}=props,decorate=useDecorate(),editor=useSlateStatic(),path=ReactEditor.findPath(editor,node),children=[],isLeafBlock=slate__WEBPACK_IMPORTED_MODULE_6__.W_.isElement(node)&&!editor.isInline(node)&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasInlines(editor,node),i=0;i<node.children.length;i++){var p=path.concat(i),n=node.children[i],key=ReactEditor.findKey(editor,n),range=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,p),sel=selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.intersection(range,selection),ds=decorate([n,p]);for(var dec of decorations){var d=slate__WEBPACK_IMPORTED_MODULE_6__.e6.intersection(dec,range);d&&ds.push(d)}slate__WEBPACK_IMPORTED_MODULE_6__.W_.isElement(n)?children.push(react__WEBPACK_IMPORTED_MODULE_3__.createElement(SelectedContext.Provider,{key:"provider-".concat(key.id),value:!!sel},react__WEBPACK_IMPORTED_MODULE_3__.createElement(MemoizedElement,{decorations:ds,element:n,key:key.id,renderElement:renderElement,renderPlaceholder:renderPlaceholder,renderLeaf:renderLeaf,selection:sel}))):children.push(react__WEBPACK_IMPORTED_MODULE_3__.createElement(MemoizedText,{decorations:ds,key:key.id,isLast:isLeafBlock&&i===node.children.length-1,parent:node,renderPlaceholder:renderPlaceholder,renderLeaf:renderLeaf,text:n})),NODE_TO_INDEX.set(n,i),NODE_TO_PARENT.set(n,node)}return children},ReadOnlyContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(!1),useReadOnly=()=>(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ReadOnlyContext),SlateContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null),useSlate=()=>{var context=(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SlateContext);if(!context)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor}=context;return editor},HOTKEYS={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},APPLE_HOTKEYS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},WINDOWS_HOTKEYS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=key=>{var generic=HOTKEYS[key],apple=APPLE_HOTKEYS[key],windows=WINDOWS_HOTKEYS[key],isGeneric=generic&&(0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__.TB)(generic),isApple=apple&&(0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__.TB)(apple),isWindows=windows&&(0,is_hotkey__WEBPACK_IMPORTED_MODULE_4__.TB)(windows);return event=>!!(isGeneric&&isGeneric(event)||IS_APPLE&&isApple&&isApple(event)||!IS_APPLE&&isWindows&&isWindows(event))},Hotkeys={isBold:create("bold"),isCompose:create("compose"),isMoveBackward:create("moveBackward"),isMoveForward:create("moveForward"),isDeleteBackward:create("deleteBackward"),isDeleteForward:create("deleteForward"),isDeleteLineBackward:create("deleteLineBackward"),isDeleteLineForward:create("deleteLineForward"),isDeleteWordBackward:create("deleteWordBackward"),isDeleteWordForward:create("deleteWordForward"),isExtendBackward:create("extendBackward"),isExtendForward:create("extendForward"),isExtendLineBackward:create("extendLineBackward"),isExtendLineForward:create("extendLineForward"),isItalic:create("italic"),isMoveLineBackward:create("moveLineBackward"),isMoveLineForward:create("moveLineForward"),isMoveWordBackward:create("moveWordBackward"),isMoveWordForward:create("moveWordForward"),isRedo:create("redo"),isSoftBreak:create("insertSoftBreak"),isSplitBlock:create("splitBlock"),isTransposeCharacter:create("transposeCharacter"),isUndo:create("undo")},createRestoreDomManager=(editor,receivedUserInput)=>{var bufferedMutations=[],clear=()=>{bufferedMutations=[]},registerMutations=mutations=>{if(receivedUserInput.current){var trackedMutations=mutations.filter(mutation=>isTrackedMutation(editor,mutation,mutations));bufferedMutations.push(...trackedMutations)}};return{registerMutations,restoreDOM:function(){bufferedMutations.reverse().forEach(mutation=>{if("characterData"===mutation.type){mutation.target.textContent=mutation.oldValue;return}mutation.removedNodes.forEach(node=>{mutation.target.insertBefore(node,mutation.nextSibling)}),mutation.addedNodes.forEach(node=>{mutation.target.removeChild(node)})}),clear()},clear}},MUTATION_OBSERVER_CONFIG$1={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class RestoreDOMComponent extends react__WEBPACK_IMPORTED_MODULE_3__.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var _this$mutationObserve,{node}=this.props;if(!node.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null===(_this$mutationObserve=this.mutationObserver)||void 0===_this$mutationObserve||_this$mutationObserve.observe(node.current,MUTATION_OBSERVER_CONFIG$1)}componentDidMount(){var{receivedUserInput}=this.props,editor=this.context;this.manager=createRestoreDomManager(editor,receivedUserInput),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var _this$mutationObserve2,_this$mutationObserve3,_this$manager2,_this$manager,pendingMutations=null===(_this$mutationObserve2=this.mutationObserver)||void 0===_this$mutationObserve2?void 0:_this$mutationObserve2.takeRecords();return null!=pendingMutations&&pendingMutations.length&&(null===(_this$manager=this.manager)||void 0===_this$manager||_this$manager.registerMutations(pendingMutations)),null===(_this$mutationObserve3=this.mutationObserver)||void 0===_this$mutationObserve3||_this$mutationObserve3.disconnect(),null===(_this$manager2=this.manager)||void 0===_this$manager2||_this$manager2.restoreDOM(),null}componentDidUpdate(){var _this$manager3;null===(_this$manager3=this.manager)||void 0===_this$manager3||_this$manager3.clear(),this.observe()}componentWillUnmount(){var _this$mutationObserve4;null===(_this$mutationObserve4=this.mutationObserver)||void 0===_this$mutationObserve4||_this$mutationObserve4.disconnect()}render(){return this.props.children}}RestoreDOMComponent.contextType=EditorContext;var RestoreDOM=IS_ANDROID?RestoreDOMComponent:_ref=>{var{children}=_ref;return react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,children)};function normalizeStringDiff(targetText,diff){var{start,end,text}=diff,removedText=targetText.slice(start,end),prefixLength=function(str,another){for(var length=Math.min(str.length,another.length),i=0;i<length;i++)if(str.charAt(i)!==another.charAt(i))return i;return length}(removedText,text),max=Math.min(removedText.length-prefixLength,text.length-prefixLength),suffixLength=function(str,another,max){for(var length=Math.min(str.length,another.length,max),i=0;i<length;i++)if(str.charAt(str.length-i-1)!==another.charAt(another.length-i-1))return i;return length}(removedText,text,max),normalized={start:start+prefixLength,end:end-suffixLength,text:text.slice(prefixLength,text.length-suffixLength)};return normalized.start===normalized.end&&0===normalized.text.length?null:normalized}function normalizePoint(editor,point){var{path,offset}=point;if(!slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor,path))return null;var leaf=slate__WEBPACK_IMPORTED_MODULE_6__.NB.get(editor,path);if(!slate__WEBPACK_IMPORTED_MODULE_6__.xv.isText(leaf))return null;var parentBlock=slate__WEBPACK_IMPORTED_MODULE_6__.ML.above(editor,{match:n=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(editor,n),at:path});if(!parentBlock)return null;for(;offset>leaf.text.length;){var entry=slate__WEBPACK_IMPORTED_MODULE_6__.ML.next(editor,{at:path,match:slate__WEBPACK_IMPORTED_MODULE_6__.xv.isText});if(!entry||!slate__WEBPACK_IMPORTED_MODULE_6__.y$.isDescendant(entry[1],parentBlock[1]))return null;offset-=leaf.text.length,leaf=entry[0],path=entry[1]}return{path,offset}}function normalizeRange(editor,range){var anchor=normalizePoint(editor,range.anchor);if(!anchor)return null;if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(range))return{anchor,focus:anchor};var focus=normalizePoint(editor,range.focus);return focus?{anchor,focus}:null}function transformPendingPoint(editor,point,op){var pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(editor),textDiff=null==pendingDiffs?void 0:pendingDiffs.find(_ref=>{var{path}=_ref;return slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(path,point.path)});if(!textDiff||point.offset<=textDiff.diff.start)return slate__WEBPACK_IMPORTED_MODULE_6__.E9.transform(point,op,{affinity:"backward"});var{diff}=textDiff;if(point.offset<=diff.start+diff.text.length){var _anchor={path:point.path,offset:diff.start},_transformed=slate__WEBPACK_IMPORTED_MODULE_6__.E9.transform(_anchor,op,{affinity:"backward"});return _transformed?{path:_transformed.path,offset:_transformed.offset+point.offset-diff.start}:null}var anchor={path:point.path,offset:point.offset-diff.text.length+diff.end-diff.start},transformed=slate__WEBPACK_IMPORTED_MODULE_6__.E9.transform(anchor,op,{affinity:"backward"});return transformed?"split_node"===op.type&&slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(op.path,point.path)&&anchor.offset<op.position&&diff.start<op.position?transformed:{path:transformed.path,offset:transformed.offset+diff.text.length-diff.end+diff.start}:null}function transformPendingRange(editor,range,op){var anchor=transformPendingPoint(editor,range.anchor,op);if(!anchor)return null;if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(range))return{anchor,focus:anchor};var focus=transformPendingPoint(editor,range.focus,op);return focus?{anchor,focus}:null}function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var debug=function(){},_excluded$2=["node"];function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var MUTATION_OBSERVER_CONFIG={subtree:!0,childList:!0,characterData:!0},_excluded$1=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],_excluded2=["text"];function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var Children=props=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(react__WEBPACK_IMPORTED_MODULE_3__.Fragment,null,useChildren(props)),Editable=props=>{var editor,receivedUserInput,animationFrameIdRef,onUserInput,{autoFocus,decorate=defaultDecorate,onDOMBeforeInput:propsOnDOMBeforeInput,placeholder,readOnly=!1,renderElement,renderLeaf,renderPlaceholder=props=>react__WEBPACK_IMPORTED_MODULE_3__.createElement(DefaultPlaceholder,Object.assign({},props)),scrollSelectionIntoView=defaultScrollSelectionIntoView,style={},as:Component="div"}=props,attributes=_objectWithoutProperties(props,_excluded$1),editor1=useSlate(),[isComposing,setIsComposing]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!1),ref=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null),deferredOperations=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]),{onUserInput:onUserInput1,receivedUserInput:receivedUserInput1}=(editor=useSlateStatic(),receivedUserInput=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!1),animationFrameIdRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(0),onUserInput=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{if(!receivedUserInput.current){receivedUserInput.current=!0;var window1=ReactEditor.getWindow(editor);window1.cancelAnimationFrame(animationFrameIdRef.current),animationFrameIdRef.current=window1.requestAnimationFrame(()=>{receivedUserInput.current=!1})}},[]),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>()=>cancelAnimationFrame(animationFrameIdRef.current),[]),{receivedUserInput,onUserInput}),[,forceRender]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useReducer)(s=>s+1,0);EDITOR_TO_FORCE_RENDER.set(editor1,forceRender),IS_READ_ONLY.set(editor1,readOnly);var state=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{ref.current&&autoFocus&&ref.current.focus()},[autoFocus]);var onDOMSelectionChange=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default()(()=>{if((IS_ANDROID||!ReactEditor.isComposing(editor1))&&(!state.isUpdatingSelection||null!=androidInputManager&&androidInputManager.isFlushing())&&!state.isDraggingInternally){var root=ReactEditor.findDocumentOrShadowRoot(editor1),{activeElement}=root,el=ReactEditor.toDOMNode(editor1,editor1),domSelection=root.getSelection();if(activeElement===el?(state.latestElement=activeElement,IS_FOCUSED.set(editor1,!0)):IS_FOCUSED.delete(editor1),!domSelection)return slate__WEBPACK_IMPORTED_MODULE_6__.YR.deselect(editor1);var{anchorNode,focusNode}=domSelection,anchorNodeSelectable=hasEditableTarget(editor1,anchorNode)||isTargetInsideNonReadonlyVoid(editor1,anchorNode),focusNodeSelectable=hasEditableTarget(editor1,focusNode)||isTargetInsideNonReadonlyVoid(editor1,focusNode);if(anchorNodeSelectable&&focusNodeSelectable){var range=ReactEditor.toSlateRange(editor1,domSelection,{exactMatch:!1,suppressThrow:!0});range&&(ReactEditor.isComposing(editor1)||null!=androidInputManager&&androidInputManager.hasPendingChanges()||null!=androidInputManager&&androidInputManager.isFlushing()?null==androidInputManager||androidInputManager.handleUserSelect(range):slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,range))}!readOnly||anchorNodeSelectable&&focusNodeSelectable||slate__WEBPACK_IMPORTED_MODULE_6__.YR.deselect(editor1)}},100),[readOnly]),scheduleOnDOMSelectionChange=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(onDOMSelectionChange,0),[onDOMSelectionChange]),androidInputManager=function(_ref){var isMountedRef,{node}=_ref,options=_objectWithoutProperties(_ref,_excluded$2);if(!IS_ANDROID)return null;var editor=useSlateStatic(),isMounted=(isMountedRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!1),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1}),[]),isMountedRef.current),[inputManager]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(()=>(function(_ref){var{editor,scheduleOnDOMSelectionChange,onDOMSelectionChange}=_ref,flushing=!1,compositionEndTimeoutId=null,flushTimeoutId=null,actionTimeoutId=null,idCounter=0,insertPositionHint=!1,applyPendingSelection=()=>{var pendingSelection=EDITOR_TO_PENDING_SELECTION.get(editor);if(EDITOR_TO_PENDING_SELECTION.delete(editor),pendingSelection){var{selection}=editor,normalized=normalizeRange(editor,pendingSelection);!normalized||selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(normalized,selection)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor,normalized)}},performAction=()=>{var action=EDITOR_TO_PENDING_ACTION.get(editor);if(EDITOR_TO_PENDING_ACTION.delete(editor),action){if(action.at){var target=slate__WEBPACK_IMPORTED_MODULE_6__.E9.isPoint(action.at)?normalizePoint(editor,action.at):normalizeRange(editor,action.at);if(!target)return;var _targetRange=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,target);editor.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(editor.selection,_targetRange)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor,target)}action.run()}},flush=()=>{if(flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null),actionTimeoutId&&(clearTimeout(actionTimeoutId),actionTimeoutId=null),!hasPendingDiffs()&&!hasPendingAction()){applyPendingSelection();return}flushing||(flushing=!0,setTimeout(()=>flushing=!1)),hasPendingAction()&&(flushing="action");var selectionRef=editor.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.rangeRef(editor,editor.selection,{affinity:"forward"});EDITOR_TO_USER_MARKS.set(editor,editor.marks),debug("flush",EDITOR_TO_PENDING_ACTION.get(editor),EDITOR_TO_PENDING_DIFFS.get(editor));for(var scheduleSelectionChange=!!(null!==(_EDITOR_TO_PENDING_DI=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI&&_EDITOR_TO_PENDING_DI.length);diff=null===(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI2?void 0:_EDITOR_TO_PENDING_DI2[0];){var _EDITOR_TO_PENDING_DI,diff,_EDITOR_TO_PENDING_DI2,_EDITOR_TO_PENDING_DI3,pendingMarks=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);void 0!==pendingMarks&&(EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor),editor.marks=pendingMarks),pendingMarks&&!1===insertPositionHint&&(insertPositionHint=null);var range=function(textDiff){var{path,diff}=textDiff;return{anchor:{path,offset:diff.start},focus:{path,offset:diff.end}}}(diff);editor.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(editor.selection,range)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor,range),diff.diff.text?slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor,diff.diff.text):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor),EDITOR_TO_PENDING_DIFFS.set(editor,null===(_EDITOR_TO_PENDING_DI3=EDITOR_TO_PENDING_DIFFS.get(editor))||void 0===_EDITOR_TO_PENDING_DI3?void 0:_EDITOR_TO_PENDING_DI3.filter(_ref2=>{var{id}=_ref2;return id!==diff.id})),!function(editor,textDiff){var{path,diff}=textDiff;if(!slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor,path))return!1;var node=slate__WEBPACK_IMPORTED_MODULE_6__.NB.get(editor,path);if(!slate__WEBPACK_IMPORTED_MODULE_6__.xv.isText(node))return!1;if(diff.start!==node.text.length||0===diff.text.length)return node.text.slice(diff.start,diff.start+diff.text.length)===diff.text;var nextPath=slate__WEBPACK_IMPORTED_MODULE_6__.y$.next(path);if(!slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor,nextPath))return!1;var nextNode=slate__WEBPACK_IMPORTED_MODULE_6__.NB.get(editor,nextPath);return slate__WEBPACK_IMPORTED_MODULE_6__.xv.isText(nextNode)&&nextNode.text.startsWith(diff.text)}(editor,diff)&&(scheduleSelectionChange=!1,EDITOR_TO_PENDING_ACTION.delete(editor),EDITOR_TO_USER_MARKS.delete(editor),flushing="action",EDITOR_TO_PENDING_SELECTION.delete(editor),scheduleOnDOMSelectionChange.cancel(),onDOMSelectionChange.cancel(),null==selectionRef||selectionRef.unref())}var selection=null==selectionRef?void 0:selectionRef.unref();if(!selection||EDITOR_TO_PENDING_SELECTION.get(editor)||editor.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(selection,editor.selection)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor,selection),hasPendingAction()){performAction();return}scheduleSelectionChange&&scheduleOnDOMSelectionChange(),scheduleOnDOMSelectionChange.flush(),onDOMSelectionChange.flush(),applyPendingSelection();var userMarks=EDITOR_TO_USER_MARKS.get(editor);EDITOR_TO_USER_MARKS.delete(editor),void 0!==userMarks&&(editor.marks=userMarks,editor.onChange())},handleCompositionEnd=_event=>{compositionEndTimeoutId&&clearTimeout(compositionEndTimeoutId),compositionEndTimeoutId=setTimeout(()=>{IS_COMPOSING.set(editor,!1),flush()},25)},handleCompositionStart=_event=>{IS_COMPOSING.set(editor,!0),compositionEndTimeoutId&&(clearTimeout(compositionEndTimeoutId),compositionEndTimeoutId=null)},updatePlaceholderVisibility=function(){var forceHide=arguments.length>0&&void 0!==arguments[0]&&arguments[0],placeholderElement=EDITOR_TO_PLACEHOLDER_ELEMENT.get(editor);if(placeholderElement){if(hasPendingDiffs()||forceHide){placeholderElement.style.display="none";return}placeholderElement.style.removeProperty("display")}},storeDiff=(path,diff)=>{var targetText,a,start,overlap,applied,sliceEnd,text,end,_EDITOR_TO_PENDING_DI4,pendingDiffs=null!==(_EDITOR_TO_PENDING_DI4=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI4?_EDITOR_TO_PENDING_DI4:[];EDITOR_TO_PENDING_DIFFS.set(editor,pendingDiffs);var target=slate__WEBPACK_IMPORTED_MODULE_6__.NB.leaf(editor,path),idx=pendingDiffs.findIndex(change=>slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(change.path,path));if(idx<0){normalizeStringDiff(target.text,diff)&&pendingDiffs.push({path,diff,id:idCounter++}),updatePlaceholderVisibility();return}var merged=(targetText=target.text,start=Math.min((a=pendingDiffs[idx].diff).start,diff.start),overlap=Math.max(0,Math.min(a.start+a.text.length,diff.end)-diff.start),applied=function(text){for(var _len=arguments.length,diffs=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)diffs[_key-1]=arguments[_key];return diffs.reduce((text,diff)=>text.slice(0,diff.start)+diff.text+text.slice(diff.end),text)}(targetText,a,diff),sliceEnd=Math.max(diff.start+diff.text.length,a.start+a.text.length+(a.start+a.text.length>diff.start?diff.text.length:0)-overlap),text=applied.slice(start,sliceEnd),end=Math.max(a.end,diff.end-a.text.length+(a.end-a.start)),normalizeStringDiff(targetText,{start,end,text}));if(!merged){pendingDiffs.splice(idx,1),updatePlaceholderVisibility();return}pendingDiffs[idx]=_objectSpread$3(_objectSpread$3({},pendingDiffs[idx]),{},{diff:merged})},scheduleAction=function(run){var{at}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};insertPositionHint=!1,EDITOR_TO_PENDING_SELECTION.delete(editor),scheduleOnDOMSelectionChange.cancel(),onDOMSelectionChange.cancel(),hasPendingAction()&&flush(),EDITOR_TO_PENDING_ACTION.set(editor,{at,run}),actionTimeoutId=setTimeout(flush)},handleDOMBeforeInput=event=>{flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var{inputType:type}=event,targetRange=null,data=event.dataTransfer||event.data||void 0;!1!==insertPositionHint&&"insertText"!==type&&"insertCompositionText"!==type&&(insertPositionHint=!1);var[nativeTargetRange]=event.getTargetRanges();nativeTargetRange&&(targetRange=ReactEditor.toSlateRange(editor,nativeTargetRange,{exactMatch:!1,suppressThrow:!0}));var domSelection=ReactEditor.getWindow(editor).getSelection();if(!targetRange&&domSelection&&(nativeTargetRange=domSelection,targetRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!0})),targetRange=null!==(_targetRange2=targetRange)&&void 0!==_targetRange2?_targetRange2:editor.selection){if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(targetRange)&&type.startsWith("delete")){var[start,end]=slate__WEBPACK_IMPORTED_MODULE_6__.e6.edges(targetRange);if(slate__WEBPACK_IMPORTED_MODULE_6__.NB.leaf(editor,start.path).text.length===start.offset&&0===end.offset){var next=slate__WEBPACK_IMPORTED_MODULE_6__.ML.next(editor,{at:start.path,match:slate__WEBPACK_IMPORTED_MODULE_6__.xv.isText});next&&slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(next[1],end.path)&&(targetRange={anchor:end,focus:end})}}if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(targetRange)&&type.startsWith("delete")){if(slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(targetRange.anchor.path,targetRange.focus.path)){var[_start,_end]=slate__WEBPACK_IMPORTED_MODULE_6__.e6.edges(targetRange);return storeDiff(targetRange.anchor.path,{text:"",end:_end.offset,start:_start.offset})}var direction=type.endsWith("Backward")?"backward":"forward";return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor,{direction}),{at:targetRange})}switch(type){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor),{at:targetRange});case"deleteContent":case"deleteContentForward":var{anchor}=targetRange;if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(targetRange)){var targetNode=slate__WEBPACK_IMPORTED_MODULE_6__.NB.leaf(editor,anchor.path);if(anchor.offset<targetNode.text.length)return storeDiff(anchor.path,{text:"",start:anchor.offset,end:anchor.offset+1})}return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor),{at:targetRange});case"deleteContentBackward":var _targetRange2,_nativeTargetRange,{anchor:_anchor}=targetRange;if((isDOMSelection(nativeTargetRange)?nativeTargetRange.isCollapsed:!!(null!==(_nativeTargetRange=nativeTargetRange)&&void 0!==_nativeTargetRange&&_nativeTargetRange.collapsed))&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(targetRange)&&_anchor.offset>0)return storeDiff(_anchor.path,{text:"",start:_anchor.offset-1,end:_anchor.offset});return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor),{at:targetRange});case"deleteEntireSoftLine":return scheduleAction(()=>{slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor,{unit:"line"}),slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor,{unit:"line"})},{at:targetRange});case"deleteHardLineBackward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor,{unit:"block"}),{at:targetRange});case"deleteSoftLineBackward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor,{unit:"line"}),{at:targetRange});case"deleteHardLineForward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor,{unit:"block"}),{at:targetRange});case"deleteSoftLineForward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor,{unit:"line"}),{at:targetRange});case"deleteWordBackward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor,{unit:"word"}),{at:targetRange});case"deleteWordForward":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor,{unit:"word"}),{at:targetRange});case"insertLineBreak":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertSoftBreak(editor),{at:targetRange});case"insertParagraph":return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertBreak(editor),{at:targetRange});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if((null==data?void 0:data.constructor.name)==="DataTransfer")return scheduleAction(()=>ReactEditor.insertData(editor,data),{at:targetRange});if("string"==typeof data&&data.includes("\n"))return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertSoftBreak(editor),{at:slate__WEBPACK_IMPORTED_MODULE_6__.e6.end(targetRange)});var text=null!=data?data:"";if(EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)&&(text=text.replace("\uFEFF","")),slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(targetRange.anchor.path,targetRange.focus.path)){var[_start2,_end2]=slate__WEBPACK_IMPORTED_MODULE_6__.e6.edges(targetRange),diff={start:_start2.offset,end:_end2.offset,text};if(text&&insertPositionHint&&"insertCompositionText"===type){var hintPosition=insertPositionHint.start+insertPositionHint.text.search(/\S|$/);diff.start+diff.text.search(/\S|$/)===hintPosition+1&&diff.end===insertPositionHint.start+insertPositionHint.text.length?(diff.start-=1,insertPositionHint=null,scheduleFlush()):insertPositionHint=!1}else insertPositionHint="insertText"===type&&(null===insertPositionHint?diff:!!(insertPositionHint&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(targetRange))&&insertPositionHint.end+insertPositionHint.text.length===_start2.offset&&_objectSpread$3(_objectSpread$3({},insertPositionHint),{},{text:insertPositionHint.text+text}));storeDiff(_start2.path,diff);return}return scheduleAction(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor,text),{at:targetRange})}}},hasPendingAction=()=>!!EDITOR_TO_PENDING_ACTION.get(editor),hasPendingDiffs=()=>{var _EDITOR_TO_PENDING_DI5;return!!(null!==(_EDITOR_TO_PENDING_DI5=EDITOR_TO_PENDING_DIFFS.get(editor))&&void 0!==_EDITOR_TO_PENDING_DI5&&_EDITOR_TO_PENDING_DI5.length)},hasPendingChanges=()=>hasPendingAction()||hasPendingDiffs(),handleUserSelect=range=>{EDITOR_TO_PENDING_SELECTION.set(editor,range),flushTimeoutId&&(clearTimeout(flushTimeoutId),flushTimeoutId=null);var{selection}=editor;if(range){var pathChanged=!selection||!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(selection.anchor.path,range.anchor.path),parentPathChanged=!selection||!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(selection.anchor.path.slice(0,-1),range.anchor.path.slice(0,-1));(pathChanged&&insertPositionHint||parentPathChanged)&&(insertPositionHint=!1),(pathChanged||!hasPendingDiffs())&&(flushTimeoutId=setTimeout(flush,200))}},handleInput=()=>{(hasPendingAction()||!hasPendingDiffs())&&flush()},handleKeyDown=_=>{hasPendingDiffs()||(updatePlaceholderVisibility(!0),setTimeout(updatePlaceholderVisibility))},scheduleFlush=()=>{hasPendingAction()||(actionTimeoutId=setTimeout(flush))},handleDomMutations=mutations=>{if(!(hasPendingDiffs()||hasPendingAction())&&mutations.some(mutation=>isTrackedMutation(editor,mutation,mutations))){var _EDITOR_TO_FORCE_REND;null===(_EDITOR_TO_FORCE_REND=EDITOR_TO_FORCE_RENDER.get(editor))||void 0===_EDITOR_TO_FORCE_REND||_EDITOR_TO_FORCE_REND()}};return{flush,scheduleFlush,hasPendingDiffs,hasPendingAction,hasPendingChanges,isFlushing:()=>flushing,handleUserSelect,handleCompositionEnd,handleCompositionStart,handleDOMBeforeInput,handleKeyDown,handleDomMutations,handleInput}})(function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({editor},options)));return!function(node,callback,options){var[mutationObserver]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(()=>new MutationObserver(callback));useIsomorphicLayoutEffect(()=>{mutationObserver.takeRecords()}),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{if(!node.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return mutationObserver.observe(node.current,options),()=>mutationObserver.disconnect()},[])}(node,inputManager.handleDomMutations,MUTATION_OBSERVER_CONFIG),EDITOR_TO_SCHEDULE_FLUSH.set(editor,inputManager.scheduleFlush),isMounted&&inputManager.flush(),inputManager}({node:ref,onDOMSelectionChange,scheduleOnDOMSelectionChange});useIsomorphicLayoutEffect(()=>{ref.current&&(window1=getDefaultView(ref.current))?(EDITOR_TO_WINDOW.set(editor1,window1),EDITOR_TO_ELEMENT.set(editor1,ref.current),NODE_TO_ELEMENT.set(editor1,ref.current),ELEMENT_TO_NODE.set(ref.current,editor1)):NODE_TO_ELEMENT.delete(editor1);var window1,{selection}=editor1,domSelection=ReactEditor.findDocumentOrShadowRoot(editor1).getSelection();if(!(!domSelection||!ReactEditor.isFocused(editor1)||null!=androidInputManager&&androidInputManager.hasPendingAction())){var setDomSelection=forceChange=>{var hasDomSelection="None"!==domSelection.type;if(selection||hasDomSelection){var editorElement=EDITOR_TO_ELEMENT.get(editor1),hasDomSelectionInEditor=!1;if(editorElement.contains(domSelection.anchorNode)&&editorElement.contains(domSelection.focusNode)&&(hasDomSelectionInEditor=!0),hasDomSelection&&hasDomSelectionInEditor&&selection&&!forceChange){var slateRange=ReactEditor.toSlateRange(editor1,domSelection,{exactMatch:!0,suppressThrow:!0});if(slateRange&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(slateRange,selection)){if(!state.hasMarkPlaceholder)return;var _anchorNode$parentEle,{anchorNode}=domSelection;if(null!=anchorNode&&null!==(_anchorNode$parentEle=anchorNode.parentElement)&&void 0!==_anchorNode$parentEle&&_anchorNode$parentEle.hasAttribute("data-slate-mark-placeholder"))return}}if(selection&&!ReactEditor.hasRange(editor1,selection)){editor1.selection=ReactEditor.toSlateRange(editor1,domSelection,{exactMatch:!1,suppressThrow:!0});return}state.isUpdatingSelection=!0;var newDomRange=selection&&ReactEditor.toDOMRange(editor1,selection);return newDomRange?(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isBackward(selection)?domSelection.setBaseAndExtent(newDomRange.endContainer,newDomRange.endOffset,newDomRange.startContainer,newDomRange.startOffset):domSelection.setBaseAndExtent(newDomRange.startContainer,newDomRange.startOffset,newDomRange.endContainer,newDomRange.endOffset),scrollSelectionIntoView(editor1,newDomRange)):domSelection.removeAllRanges(),newDomRange}},newDomRange=setDomSelection(),ensureSelection=(null==androidInputManager?void 0:androidInputManager.isFlushing())==="action";if(!IS_ANDROID||!ensureSelection){setTimeout(()=>{newDomRange&&IS_FIREFOX&&ReactEditor.toDOMNode(editor1,editor1).focus(),state.isUpdatingSelection=!1});return}var timeoutId=null,animationFrameId=requestAnimationFrame(()=>{if(ensureSelection){var ensureDomSelection=forceChange=>{try{ReactEditor.toDOMNode(editor1,editor1).focus(),setDomSelection(forceChange)}catch(e){}};ensureDomSelection(),timeoutId=setTimeout(()=>{ensureDomSelection(!0),state.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(animationFrameId),timeoutId&&clearTimeout(timeoutId)}}});var onDOMBeforeInput=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(onUserInput1(),!readOnly&&hasEditableTarget(editor1,event.target)&&!isDOMEventHandled(event,propsOnDOMBeforeInput)){if(androidInputManager)return androidInputManager.handleDOMBeforeInput(event);scheduleOnDOMSelectionChange.flush(),onDOMSelectionChange.flush();var{selection}=editor1,{inputType:type}=event,data=event.dataTransfer||event.data||void 0,isCompositionChange="insertCompositionText"===type||"deleteCompositionText"===type;if(!(isCompositionChange&&ReactEditor.isComposing(editor1))){var native=!1;if("insertText"===type&&selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(selection)&&event.data&&1===event.data.length&&/[a-z ]/i.test(event.data)&&0!==selection.anchor.offset){native=!0,editor1.marks&&(native=!1);var{anchor}=selection,[node,offset]=ReactEditor.toDOMPoint(editor1,anchor),anchorNode=null===(_node$parentElement=node.parentElement)||void 0===_node$parentElement?void 0:_node$parentElement.closest("a"),window1=ReactEditor.getWindow(editor1);if(native&&anchorNode&&ReactEditor.hasDOMNode(editor1,anchorNode)){var _EDITOR_TO_USER_SELEC,_node$parentElement,_window$getComputedSt,_lastText$textContent,lastText=null==window1?void 0:window1.document.createTreeWalker(anchorNode,NodeFilter.SHOW_TEXT).lastChild();lastText===node&&(null===(_lastText$textContent=lastText.textContent)||void 0===_lastText$textContent?void 0:_lastText$textContent.length)===offset&&(native=!1)}if(native&&node.parentElement&&(null==window1?void 0:null===(_window$getComputedSt=window1.getComputedStyle(node.parentElement))||void 0===_window$getComputedSt?void 0:_window$getComputedSt.whiteSpace)==="pre"){var block=slate__WEBPACK_IMPORTED_MODULE_6__.ML.above(editor1,{at:anchor.path,match:n=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(editor1,n)});block&&slate__WEBPACK_IMPORTED_MODULE_6__.NB.string(block[0]).includes("	")&&(native=!1)}}if(!type.startsWith("delete")||type.startsWith("deleteBy")){var[targetRange]=event.getTargetRanges();if(targetRange){var range=ReactEditor.toSlateRange(editor1,targetRange,{exactMatch:!1,suppressThrow:!1});if(!selection||!slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(selection,range)){native=!1;var selectionRef=!isCompositionChange&&editor1.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.rangeRef(editor1,editor1.selection);slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,range),selectionRef&&EDITOR_TO_USER_SELECTION.set(editor1,selectionRef)}}}if(!isCompositionChange){if(native||event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)&&type.startsWith("delete")){var direction=type.endsWith("Backward")?"backward":"forward";slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction});return}switch(type){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1);break;case"deleteContent":case"deleteContentForward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1);break;case"deleteContentBackward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1);break;case"deleteEntireSoftLine":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"line"}),slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"line"});break;case"deleteHardLineBackward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"block"});break;case"deleteSoftLineBackward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"line"});break;case"deleteHardLineForward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"block"});break;case"deleteSoftLineForward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"line"});break;case"deleteWordBackward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"word"});break;case"deleteWordForward":slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"word"});break;case"insertLineBreak":slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertSoftBreak(editor1);break;case"insertParagraph":slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertBreak(editor1);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===type&&ReactEditor.isComposing(editor1)&&(setIsComposing(!1),IS_COMPOSING.set(editor1,!1)),(null==data?void 0:data.constructor.name)==="DataTransfer"?ReactEditor.insertData(editor1,data):"string"==typeof data&&(native?deferredOperations.current.push(()=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor1,data)):slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor1,data))}var toRestore=null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor1))||void 0===_EDITOR_TO_USER_SELEC?void 0:_EDITOR_TO_USER_SELEC.unref();EDITOR_TO_USER_SELECTION.delete(editor1),!toRestore||editor1.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(editor1.selection,toRestore)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,toRestore)}}}},[readOnly,propsOnDOMBeforeInput]);useIsomorphicLayoutEffect(()=>(ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.addEventListener("beforeinput",onDOMBeforeInput),()=>{ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.removeEventListener("beforeinput",onDOMBeforeInput)}),[onDOMBeforeInput]),useIsomorphicLayoutEffect(()=>{var window1=ReactEditor.getWindow(editor1);return window1.document.addEventListener("selectionchange",scheduleOnDOMSelectionChange),()=>{window1.document.removeEventListener("selectionchange",scheduleOnDOMSelectionChange)}},[scheduleOnDOMSelectionChange]);var decorations=decorate([editor1,[]]);if(placeholder&&1===editor1.children.length&&1===Array.from(slate__WEBPACK_IMPORTED_MODULE_6__.NB.texts(editor1)).length&&""===slate__WEBPACK_IMPORTED_MODULE_6__.NB.string(editor1)&&!isComposing){var start=slate__WEBPACK_IMPORTED_MODULE_6__.ML.start(editor1,[]);decorations.push({[PLACEHOLDER_SYMBOL]:!0,placeholder,anchor:start,focus:start})}var{marks}=editor1;if(state.hasMarkPlaceholder=!1,editor1.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(editor1.selection)&&marks){var{anchor}=editor1.selection,leaf=slate__WEBPACK_IMPORTED_MODULE_6__.NB.leaf(editor1,anchor.path),rest=_objectWithoutProperties(leaf,_excluded2);if(!slate__WEBPACK_IMPORTED_MODULE_6__.xv.equals(leaf,marks,{loose:!0})){state.hasMarkPlaceholder=!0;var unset=Object.fromEntries(Object.keys(rest).map(mark=>[mark,null]));decorations.push(_objectSpread$1(_objectSpread$1(_objectSpread$1({[MARK_PLACEHOLDER_SYMBOL]:!0},unset),marks),{},{anchor,focus:anchor}))}}return(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{setTimeout(()=>{var{selection}=editor1;if(selection){var{anchor:_anchor}=selection,_text=slate__WEBPACK_IMPORTED_MODULE_6__.NB.leaf(editor1,_anchor.path);if(marks&&!slate__WEBPACK_IMPORTED_MODULE_6__.xv.equals(_text,marks,{loose:!0})){EDITOR_TO_PENDING_INSERTION_MARKS.set(editor1,marks);return}}EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor1)})}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(ReadOnlyContext.Provider,{value:readOnly},react__WEBPACK_IMPORTED_MODULE_3__.createElement(DecorateContext.Provider,{value:decorate},react__WEBPACK_IMPORTED_MODULE_3__.createElement(RestoreDOM,{node:ref,receivedUserInput:receivedUserInput1},react__WEBPACK_IMPORTED_MODULE_3__.createElement(Component,Object.assign({role:readOnly?void 0:"textbox","aria-multiline":!readOnly||void 0},attributes,{spellCheck:(!!HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM)&&attributes.spellCheck,autoCorrect:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCorrect:"false",autoCapitalize:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!readOnly,zindex:-1,suppressContentEditableWarning:!0,ref:ref,style:_objectSpread$1({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},style),onBeforeInput:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!HAS_BEFORE_INPUT_SUPPORT&&!readOnly&&!isEventHandled(event,attributes.onBeforeInput)&&hasEditableTarget(editor1,event.target)&&(event.preventDefault(),!ReactEditor.isComposing(editor1))){var _text2=event.data;slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor1,_text2)}},[readOnly]),onInput:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(androidInputManager){androidInputManager.handleInput();return}for(var op of deferredOperations.current)op();deferredOperations.current=[]},[]),onBlur:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!(readOnly||state.isUpdatingSelection||!hasEditableTarget(editor1,event.target)||isEventHandled(event,attributes.onBlur))){var root=ReactEditor.findDocumentOrShadowRoot(editor1);if(state.latestElement!==root.activeElement){var{relatedTarget}=event;if(!(relatedTarget===ReactEditor.toDOMNode(editor1,editor1)||isDOMElement(relatedTarget)&&relatedTarget.hasAttribute("data-slate-spacer"))){if(null!=relatedTarget&&isDOMNode(relatedTarget)&&ReactEditor.hasDOMNode(editor1,relatedTarget)){var node=ReactEditor.toSlateNode(editor1,relatedTarget);if(slate__WEBPACK_IMPORTED_MODULE_6__.W_.isElement(node)&&!editor1.isVoid(node))return}if(IS_SAFARI){var domSelection=root.getSelection();null==domSelection||domSelection.removeAllRanges()}IS_FOCUSED.delete(editor1)}}}},[readOnly,attributes.onBlur]),onClick:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(hasTarget(editor1,event.target)&&!isEventHandled(event,attributes.onClick)&&isDOMNode(event.target)){var node=ReactEditor.toSlateNode(editor1,event.target),path=ReactEditor.findPath(editor1,node);if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.hasPath(editor1,path)&&slate__WEBPACK_IMPORTED_MODULE_6__.NB.get(editor1,path)===node){if(3===event.detail&&path.length>=1){var blockPath=path;if(!slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(editor1,node)){var _block$,block=slate__WEBPACK_IMPORTED_MODULE_6__.ML.above(editor1,{match:n=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(editor1,n),at:path});blockPath=null!==(_block$=null==block?void 0:block[1])&&void 0!==_block$?_block$:path.slice(0,1)}var range=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor1,blockPath);slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,range);return}if(!readOnly){var _start=slate__WEBPACK_IMPORTED_MODULE_6__.ML.start(editor1,path),end=slate__WEBPACK_IMPORTED_MODULE_6__.ML.end(editor1,path),startVoid=slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor1,{at:_start}),endVoid=slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor1,{at:end});if(startVoid&&endVoid&&slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(startVoid[1],endVoid[1])){var _range=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor1,_start);slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,_range)}}}}},[readOnly,attributes.onClick]),onCompositionEnd:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(hasEditableTarget(editor1,event.target)&&(ReactEditor.isComposing(editor1)&&(setIsComposing(!1),IS_COMPOSING.set(editor1,!1)),null==androidInputManager||androidInputManager.handleCompositionEnd(event),!isEventHandled(event,attributes.onCompositionEnd)&&!IS_ANDROID&&!IS_SAFARI&&!IS_FIREFOX_LEGACY&&!IS_IOS&&!IS_QQBROWSER&&!IS_WECHATBROWSER&&!IS_UC_MOBILE&&event.data)){var placeholderMarks=EDITOR_TO_PENDING_INSERTION_MARKS.get(editor1);EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor1),void 0!==placeholderMarks&&(EDITOR_TO_USER_MARKS.set(editor1,editor1.marks),editor1.marks=placeholderMarks),slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertText(editor1,event.data);var userMarks=EDITOR_TO_USER_MARKS.get(editor1);EDITOR_TO_USER_MARKS.delete(editor1),void 0!==userMarks&&(editor1.marks=userMarks)}},[attributes.onCompositionEnd]),onCompositionUpdate:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{!hasEditableTarget(editor1,event.target)||isEventHandled(event,attributes.onCompositionUpdate)||ReactEditor.isComposing(editor1)||(setIsComposing(!0),IS_COMPOSING.set(editor1,!0))},[attributes.onCompositionUpdate]),onCompositionStart:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(hasEditableTarget(editor1,event.target)&&(null==androidInputManager||androidInputManager.handleCompositionStart(event),!isEventHandled(event,attributes.onCompositionStart)&&!IS_ANDROID)){setIsComposing(!0);var{selection}=editor1;if(selection){if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)){slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1);return}var inline=slate__WEBPACK_IMPORTED_MODULE_6__.ML.above(editor1,{match:n=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.isInline(editor1,n),mode:"highest"});if(inline){var[,inlinePath]=inline;if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isEnd(editor1,selection.anchor,inlinePath)){var point=slate__WEBPACK_IMPORTED_MODULE_6__.ML.after(editor1,inlinePath);slate__WEBPACK_IMPORTED_MODULE_6__.YR.setSelection(editor1,{anchor:point,focus:point})}}}}},[attributes.onCompositionStart]),onCopy:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{hasEditableTarget(editor1,event.target)&&!isEventHandled(event,attributes.onCopy)&&(event.preventDefault(),ReactEditor.setFragmentData(editor1,event.clipboardData,"copy"))},[attributes.onCopy]),onCut:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!readOnly&&hasEditableTarget(editor1,event.target)&&!isEventHandled(event,attributes.onCut)){event.preventDefault(),ReactEditor.setFragmentData(editor1,event.clipboardData,"cut");var{selection}=editor1;if(selection){if(slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection))slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1);else{var node=slate__WEBPACK_IMPORTED_MODULE_6__.NB.parent(editor1,selection.anchor.path);slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor1,node)&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.delete(editor1)}}}},[readOnly,attributes.onCut]),onDragOver:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(hasTarget(editor1,event.target)&&!isEventHandled(event,attributes.onDragOver)){var node=ReactEditor.toSlateNode(editor1,event.target);slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor1,node)&&event.preventDefault()}},[attributes.onDragOver]),onDragStart:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!readOnly&&hasTarget(editor1,event.target)&&!isEventHandled(event,attributes.onDragStart)){var node=ReactEditor.toSlateNode(editor1,event.target),path=ReactEditor.findPath(editor1,node);if(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor1,node)||slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor1,{at:path,voids:!0})){var range=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor1,path);slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,range)}state.isDraggingInternally=!0,ReactEditor.setFragmentData(editor1,event.dataTransfer,"drag")}},[readOnly,attributes.onDragStart]),onDrop:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!readOnly&&hasTarget(editor1,event.target)&&!isEventHandled(event,attributes.onDrop)){event.preventDefault();var draggedRange=editor1.selection,range=ReactEditor.findEventRange(editor1,event),data=event.dataTransfer;slate__WEBPACK_IMPORTED_MODULE_6__.YR.select(editor1,range),state.isDraggingInternally&&draggedRange&&!slate__WEBPACK_IMPORTED_MODULE_6__.e6.equals(draggedRange,range)&&!slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(editor1,{at:range,voids:!0})&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.delete(editor1,{at:draggedRange}),ReactEditor.insertData(editor1,data),ReactEditor.isFocused(editor1)||ReactEditor.focus(editor1)}state.isDraggingInternally=!1},[readOnly,attributes.onDrop]),onDragEnd:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{!readOnly&&state.isDraggingInternally&&attributes.onDragEnd&&hasTarget(editor1,event.target)&&attributes.onDragEnd(event),state.isDraggingInternally=!1},[readOnly,attributes.onDragEnd]),onFocus:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!readOnly&&!state.isUpdatingSelection&&hasEditableTarget(editor1,event.target)&&!isEventHandled(event,attributes.onFocus)){var el=ReactEditor.toDOMNode(editor1,editor1),root=ReactEditor.findDocumentOrShadowRoot(editor1);if(state.latestElement=root.activeElement,IS_FIREFOX&&event.target!==el){el.focus();return}IS_FOCUSED.set(editor1,!0)}},[readOnly,attributes.onFocus]),onKeyDown:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{if(!readOnly&&hasEditableTarget(editor1,event.target)){null==androidInputManager||androidInputManager.handleKeyDown(event);var{nativeEvent}=event;if(ReactEditor.isComposing(editor1)&&!1===nativeEvent.isComposing&&(IS_COMPOSING.set(editor1,!1),setIsComposing(!1)),!(isEventHandled(event,attributes.onKeyDown)||ReactEditor.isComposing(editor1))){var{selection}=editor1,element=editor1.children[null!==selection?selection.focus.path[0]:0],isRTL="rtl"===direction__WEBPACK_IMPORTED_MODULE_0___default()(slate__WEBPACK_IMPORTED_MODULE_6__.NB.string(element));if(Hotkeys.isRedo(nativeEvent)){event.preventDefault(),"function"==typeof editor1.redo&&editor1.redo();return}if(Hotkeys.isUndo(nativeEvent)){event.preventDefault(),"function"==typeof editor1.undo&&editor1.undo();return}if(Hotkeys.isMoveLineBackward(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"line",reverse:!0});return}if(Hotkeys.isMoveLineForward(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"line"});return}if(Hotkeys.isExtendLineBackward(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"line",edge:"focus",reverse:!0});return}if(Hotkeys.isExtendLineForward(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"line",edge:"focus"});return}if(Hotkeys.isMoveBackward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{reverse:!isRTL}):slate__WEBPACK_IMPORTED_MODULE_6__.YR.collapse(editor1,{edge:"start"});return}if(Hotkeys.isMoveForward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{reverse:isRTL}):slate__WEBPACK_IMPORTED_MODULE_6__.YR.collapse(editor1,{edge:"end"});return}if(Hotkeys.isMoveWordBackward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.collapse(editor1,{edge:"focus"}),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"word",reverse:!isRTL});return}if(Hotkeys.isMoveWordForward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.collapse(editor1,{edge:"focus"}),slate__WEBPACK_IMPORTED_MODULE_6__.YR.move(editor1,{unit:"word",reverse:isRTL});return}if(HAS_BEFORE_INPUT_SUPPORT){if((IS_CHROME||IS_SAFARI)&&selection&&(Hotkeys.isDeleteBackward(nativeEvent)||Hotkeys.isDeleteForward(nativeEvent))&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(selection)){var currentNode=slate__WEBPACK_IMPORTED_MODULE_6__.NB.parent(editor1,selection.anchor.path);if(slate__WEBPACK_IMPORTED_MODULE_6__.W_.isElement(currentNode)&&slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor1,currentNode)&&(slate__WEBPACK_IMPORTED_MODULE_6__.ML.isInline(editor1,currentNode)||slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(editor1,currentNode))){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"block"});return}}}else{if(Hotkeys.isBold(nativeEvent)||Hotkeys.isItalic(nativeEvent)||Hotkeys.isTransposeCharacter(nativeEvent)){event.preventDefault();return}if(Hotkeys.isSoftBreak(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertSoftBreak(editor1);return}if(Hotkeys.isSplitBlock(nativeEvent)){event.preventDefault(),slate__WEBPACK_IMPORTED_MODULE_6__.ML.insertBreak(editor1);return}if(Hotkeys.isDeleteBackward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"backward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1);return}if(Hotkeys.isDeleteForward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"forward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1);return}if(Hotkeys.isDeleteLineBackward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"backward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"line"});return}if(Hotkeys.isDeleteLineForward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"forward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"line"});return}if(Hotkeys.isDeleteWordBackward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"backward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteBackward(editor1,{unit:"word"});return}if(Hotkeys.isDeleteWordForward(nativeEvent)){event.preventDefault(),selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isExpanded(selection)?slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteFragment(editor1,{direction:"forward"}):slate__WEBPACK_IMPORTED_MODULE_6__.ML.deleteForward(editor1,{unit:"word"});return}}}}},[readOnly,attributes.onKeyDown]),onPaste:(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event=>{!readOnly&&hasEditableTarget(editor1,event.target)&&!isEventHandled(event,attributes.onPaste)&&(!HAS_BEFORE_INPUT_SUPPORT||isPlainTextOnlyPaste(event.nativeEvent))&&(event.preventDefault(),ReactEditor.insertData(editor1,event.clipboardData))},[readOnly,attributes.onPaste])}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(Children,{decorations:decorations,node:editor1,renderElement:renderElement,renderPlaceholder:renderPlaceholder,renderLeaf:renderLeaf,selection:editor1.selection})))))},DefaultPlaceholder=_ref=>{var{attributes,children}=_ref;return react__WEBPACK_IMPORTED_MODULE_3__.createElement("span",Object.assign({},attributes),children,IS_ANDROID&&react__WEBPACK_IMPORTED_MODULE_3__.createElement("br",null))},defaultDecorate=()=>[],defaultScrollSelectionIntoView=(editor,domRange)=>{if(!editor.selection||editor.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(editor.selection)){var leafEl=domRange.startContainer.parentElement;leafEl.getBoundingClientRect=domRange.getBoundingClientRect.bind(domRange),(0,scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_7__.Z)(leafEl,{scrollMode:"if-needed"}),delete leafEl.getBoundingClientRect}},hasTarget=(editor,target)=>isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target),hasEditableTarget=(editor,target)=>isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target,{editable:!0}),isTargetInsideNonReadonlyVoid=(editor,target)=>{if(IS_READ_ONLY.get(editor))return!1;var slateNode=hasTarget(editor,target)&&ReactEditor.toSlateNode(editor,target);return slate__WEBPACK_IMPORTED_MODULE_6__.ML.isVoid(editor,slateNode)},isEventHandled=(event,handler)=>{if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.isDefaultPrevented()||event.isPropagationStopped()},isDOMEventHandled=(event,handler)=>{if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.defaultPrevented},FocusedContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(!1),useFocused=()=>(0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(FocusedContext),SlateSelectorContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({}),_excluded=["editor","children","onChange","value"],Slate=props=>{var eventListeners,slateRef,onChange,selectorContext,{editor,children,onChange:onChange1,value}=props,rest=_objectWithoutProperties(props,_excluded),unmountRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(!1),[context,setContext]=react__WEBPACK_IMPORTED_MODULE_3__.useState(()=>{if(!slate__WEBPACK_IMPORTED_MODULE_6__.NB.isNodeList(value))throw Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(slate__WEBPACK_IMPORTED_MODULE_6__.o4.stringify(value)));if(!slate__WEBPACK_IMPORTED_MODULE_6__.ML.isEditor(editor))throw Error("[Slate] editor is invalid! you passed:"+"".concat(slate__WEBPACK_IMPORTED_MODULE_6__.o4.stringify(editor)));return editor.children=value,Object.assign(editor,rest),{v:0,editor}}),{selectorContext:selectorContext1,onChange:handleSelectorChange}=(eventListeners=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]).current,slateRef=(0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)({editor:editor}).current,onChange=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(editor=>{slateRef.editor=editor,eventListeners.forEach(listener=>listener(editor))},[]),selectorContext=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>({getSlate:()=>slateRef.editor,addEventListener:callback=>(eventListeners.push(callback),()=>{eventListeners.splice(eventListeners.indexOf(callback),1)})}),[eventListeners,slateRef]),{selectorContext,onChange}),onContextChange=(0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(()=>{onChange1&&onChange1(editor.children),setContext(prevContext=>({v:prevContext.v+1,editor})),handleSelectorChange(editor)},[onChange1]);EDITOR_TO_ON_CHANGE.set(editor,onContextChange),(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>()=>{EDITOR_TO_ON_CHANGE.set(editor,()=>{}),unmountRef.current=!0},[]);var[isFocused,setIsFocused]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(ReactEditor.isFocused(editor));return(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{setIsFocused(ReactEditor.isFocused(editor))}),useIsomorphicLayoutEffect(()=>{var fn=()=>setIsFocused(ReactEditor.isFocused(editor));return IS_REACT_VERSION_17_OR_ABOVE?(document.addEventListener("focusin",fn),document.addEventListener("focusout",fn),()=>{document.removeEventListener("focusin",fn),document.removeEventListener("focusout",fn)}):(document.addEventListener("focus",fn,!0),document.addEventListener("blur",fn,!0),()=>{document.removeEventListener("focus",fn,!0),document.removeEventListener("blur",fn,!0)})},[]),react__WEBPACK_IMPORTED_MODULE_3__.createElement(SlateSelectorContext.Provider,{value:selectorContext1},react__WEBPACK_IMPORTED_MODULE_3__.createElement(SlateContext.Provider,{value:context},react__WEBPACK_IMPORTED_MODULE_3__.createElement(EditorContext.Provider,{value:context.editor},react__WEBPACK_IMPORTED_MODULE_3__.createElement(FocusedContext.Provider,{value:isFocused},children))))},doRectsIntersect=(rect,compareRect)=>{var middle=(compareRect.top+compareRect.bottom)/2;return rect.top<=middle&&rect.bottom>=middle},areRangesSameLine=(editor,range1,range2)=>{var rect1=ReactEditor.toDOMRange(editor,range1).getBoundingClientRect(),rect2=ReactEditor.toDOMRange(editor,range2).getBoundingClientRect();return doRectsIntersect(rect1,rect2)&&doRectsIntersect(rect2,rect1)},findCurrentLineRange=(editor,parentRange)=>{var parentRangeBoundary=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,slate__WEBPACK_IMPORTED_MODULE_6__.e6.end(parentRange)),positions=Array.from(slate__WEBPACK_IMPORTED_MODULE_6__.ML.positions(editor,{at:parentRange})),left=0,right=positions.length,middle=Math.floor(right/2);if(areRangesSameLine(editor,slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,positions[left]),parentRangeBoundary))return slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,positions[left],parentRangeBoundary);if(positions.length<2)return slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,positions[positions.length-1],parentRangeBoundary);for(;middle!==positions.length&&middle!==left;)areRangesSameLine(editor,slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,positions[middle]),parentRangeBoundary)?right=middle:left=middle,middle=Math.floor((left+right)/2);return slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(editor,positions[right],parentRangeBoundary)};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var withReact=editor=>{var e=editor,{apply,onChange,deleteBackward,addMark,removeMark}=e;return EDITOR_TO_KEY_TO_ELEMENT.set(e,new WeakMap),e.addMark=(key,value)=>{var _EDITOR_TO_SCHEDULE_F,_EDITOR_TO_PENDING_DI;null===(_EDITOR_TO_SCHEDULE_F=EDITOR_TO_SCHEDULE_FLUSH.get(e))||void 0===_EDITOR_TO_SCHEDULE_F||_EDITOR_TO_SCHEDULE_F(),!EDITOR_TO_PENDING_INSERTION_MARKS.get(e)&&null!==(_EDITOR_TO_PENDING_DI=EDITOR_TO_PENDING_DIFFS.get(e))&&void 0!==_EDITOR_TO_PENDING_DI&&_EDITOR_TO_PENDING_DI.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(e,null),EDITOR_TO_USER_MARKS.delete(e),addMark(key,value)},e.removeMark=key=>{var _EDITOR_TO_PENDING_DI2;!EDITOR_TO_PENDING_INSERTION_MARKS.get(e)&&null!==(_EDITOR_TO_PENDING_DI2=EDITOR_TO_PENDING_DIFFS.get(e))&&void 0!==_EDITOR_TO_PENDING_DI2&&_EDITOR_TO_PENDING_DI2.length&&EDITOR_TO_PENDING_INSERTION_MARKS.set(e,null),EDITOR_TO_USER_MARKS.delete(e),removeMark(key)},e.deleteBackward=unit=>{if("line"!==unit)return deleteBackward(unit);if(e.selection&&slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(e.selection)){var parentBlockEntry=slate__WEBPACK_IMPORTED_MODULE_6__.ML.above(e,{match:n=>slate__WEBPACK_IMPORTED_MODULE_6__.ML.isBlock(e,n),at:e.selection});if(parentBlockEntry){var[,parentBlockPath]=parentBlockEntry,parentElementRange=slate__WEBPACK_IMPORTED_MODULE_6__.ML.range(e,parentBlockPath,e.selection.anchor),currentLineRange=findCurrentLineRange(e,parentElementRange);slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(currentLineRange)||slate__WEBPACK_IMPORTED_MODULE_6__.YR.delete(e,{at:currentLineRange})}}},e.apply=op=>{var _EDITOR_TO_USER_SELEC,matches=[],pendingDiffs=EDITOR_TO_PENDING_DIFFS.get(e);if(null!=pendingDiffs&&pendingDiffs.length){var transformed=pendingDiffs.map(textDiff=>(function(textDiff,op){var{path,diff,id}=textDiff;switch(op.type){case"insert_text":if(!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(op.path,path)||op.offset>=diff.end)return textDiff;if(op.offset<=diff.start)return{diff:{start:op.text.length+diff.start,end:op.text.length+diff.end,text:diff.text},id,path};return{diff:{start:diff.start,end:diff.end+op.text.length,text:diff.text},id,path};case"remove_text":if(!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(op.path,path)||op.offset>=diff.end)return textDiff;if(op.offset+op.text.length<=diff.start)return{diff:{start:diff.start-op.text.length,end:diff.end-op.text.length,text:diff.text},id,path};return{diff:{start:diff.start,end:diff.end-op.text.length,text:diff.text},id,path};case"split_node":if(!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(op.path,path)||op.position>=diff.end)return{diff,id,path:slate__WEBPACK_IMPORTED_MODULE_6__.y$.transform(path,op,{affinity:"backward"})};if(op.position>diff.start)return{diff:{start:diff.start,end:Math.min(op.position,diff.end),text:diff.text},id,path};return{diff:{start:diff.start-op.position,end:diff.end-op.position,text:diff.text},id,path:slate__WEBPACK_IMPORTED_MODULE_6__.y$.transform(path,op,{affinity:"forward"})};case"merge_node":if(!slate__WEBPACK_IMPORTED_MODULE_6__.y$.equals(op.path,path))return{diff,id,path:slate__WEBPACK_IMPORTED_MODULE_6__.y$.transform(path,op)};return{diff:{start:diff.start+op.position,end:diff.end+op.position,text:diff.text},id,path:slate__WEBPACK_IMPORTED_MODULE_6__.y$.transform(path,op)}}var newPath=slate__WEBPACK_IMPORTED_MODULE_6__.y$.transform(path,op);return newPath?{diff,path:newPath,id}:null})(textDiff,op)).filter(Boolean);EDITOR_TO_PENDING_DIFFS.set(e,transformed)}var pendingSelection=EDITOR_TO_PENDING_SELECTION.get(e);pendingSelection&&EDITOR_TO_PENDING_SELECTION.set(e,transformPendingRange(e,pendingSelection,op));var pendingAction=EDITOR_TO_PENDING_ACTION.get(e);if(null!=pendingAction&&pendingAction.at){var at=slate__WEBPACK_IMPORTED_MODULE_6__.E9.isPoint(null==pendingAction?void 0:pendingAction.at)?transformPendingPoint(e,pendingAction.at,op):transformPendingRange(e,pendingAction.at,op);EDITOR_TO_PENDING_ACTION.set(e,at?_objectSpread(_objectSpread({},pendingAction),{},{at}):null)}switch(op.type){case"insert_text":case"remove_text":case"set_node":case"split_node":matches.push(...getMatches(e,op.path));break;case"set_selection":null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(e))||void 0===_EDITOR_TO_USER_SELEC||_EDITOR_TO_USER_SELEC.unref(),EDITOR_TO_USER_SELECTION.delete(e);break;case"insert_node":case"remove_node":matches.push(...getMatches(e,slate__WEBPACK_IMPORTED_MODULE_6__.y$.parent(op.path)));break;case"merge_node":matches.push(...getMatches(e,slate__WEBPACK_IMPORTED_MODULE_6__.y$.previous(op.path)));break;case"move_node":matches.push(...getMatches(e,slate__WEBPACK_IMPORTED_MODULE_6__.y$.common(slate__WEBPACK_IMPORTED_MODULE_6__.y$.parent(op.path),slate__WEBPACK_IMPORTED_MODULE_6__.y$.parent(op.newPath))))}for(var[path,key]of(apply(op),matches)){var[node]=slate__WEBPACK_IMPORTED_MODULE_6__.ML.node(e,path);NODE_TO_KEY.set(node,key)}},e.setFragmentData=data=>{var{selection}=e;if(selection){var[start,end]=slate__WEBPACK_IMPORTED_MODULE_6__.e6.edges(selection),startVoid=slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(e,{at:start.path}),endVoid=slate__WEBPACK_IMPORTED_MODULE_6__.ML.void(e,{at:end.path});if(!slate__WEBPACK_IMPORTED_MODULE_6__.e6.isCollapsed(selection)||startVoid){var domRange=ReactEditor.toDOMRange(e,selection),contents=domRange.cloneContents(),attach=contents.childNodes[0];if(contents.childNodes.forEach(node=>{node.textContent&&""!==node.textContent.trim()&&(attach=node)}),endVoid){var[voidNode]=endVoid,r=domRange.cloneRange(),domNode=ReactEditor.toDOMNode(e,voidNode);r.setEndAfter(domNode),contents=r.cloneContents()}if(startVoid&&(attach=contents.querySelector("[data-slate-spacer]")),Array.from(contents.querySelectorAll("[data-slate-zero-width]")).forEach(zw=>{var isNewline="n"===zw.getAttribute("data-slate-zero-width");zw.textContent=isNewline?"\n":""}),isDOMText(attach)){var span=attach.ownerDocument.createElement("span");span.style.whiteSpace="pre",span.appendChild(attach),contents.appendChild(span),attach=span}var string=JSON.stringify(e.getFragment()),encoded=window.btoa(encodeURIComponent(string));attach.setAttribute("data-slate-fragment",encoded),data.setData("application/x-slate-fragment",encoded);var div=contents.ownerDocument.createElement("div");return div.appendChild(contents),div.setAttribute("hidden","true"),contents.ownerDocument.body.appendChild(div),data.setData("text/html",div.innerHTML),data.setData("text/plain",getPlainText(div)),contents.ownerDocument.body.removeChild(div),data}}},e.insertData=data=>{e.insertFragmentData(data)||e.insertTextData(data)},e.insertFragmentData=data=>{var fragment=data.getData("application/x-slate-fragment")||getSlateFragmentAttribute(data);if(fragment){var parsed=JSON.parse(decodeURIComponent(window.atob(fragment)));return e.insertFragment(parsed),!0}return!1},e.insertTextData=data=>{var text=data.getData("text/plain");if(text){var lines=text.split(/\r\n|\r|\n/),split=!1;for(var line of lines)split&&slate__WEBPACK_IMPORTED_MODULE_6__.YR.splitNodes(e,{always:!0}),e.insertText(line),split=!0;return!0}return!1},e.onChange=()=>{react_dom__WEBPACK_IMPORTED_MODULE_5__.unstable_batchedUpdates(()=>{var onContextChange=EDITOR_TO_ON_CHANGE.get(e);onContextChange&&onContextChange(),onChange()})},e},getMatches=(e,path)=>{var matches=[];for(var[n,p]of slate__WEBPACK_IMPORTED_MODULE_6__.ML.levels(e,{at:path})){var key=ReactEditor.findKey(e,n);matches.push([p,key])}return matches}}}]);