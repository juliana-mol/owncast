(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1774],{27561:function(module,__unused_webpack_exports,__webpack_require__){var trimmedEndIndex=__webpack_require__(67990),reTrimStart=/^\s+/;module.exports=function(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},67990:function(module){var reWhitespace=/\s/;module.exports=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},33448:function(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__(44239),isObjectLike=__webpack_require__(37005);module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},14841:function(module,__unused_webpack_exports,__webpack_require__){var baseTrim=__webpack_require__(27561),isObject=__webpack_require__(13218),isSymbol=__webpack_require__(33448),NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},23426:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/logs",function(){return __webpack_require__(87905)}])},19849:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return LogTable}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85893);__webpack_require__(67294);var antd__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84485),antd__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(20550),antd__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(93626),react_linkify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(53731),date_fns_format__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(58091);let{Title}=antd__WEBPACK_IMPORTED_MODULE_3__.Z;function renderColumnLevel(text,entry){let color="black";return"warning"===entry.level?color="orange":"error"===entry.level&&(color="red"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__.Z,{color:color,children:text})}function renderMessage(text){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_linkify__WEBPACK_IMPORTED_MODULE_2__.Z,{children:text})}let LogTable=param=>{let{logs,pageSize}=param;return(null==logs?void 0:logs.length)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"logs-section",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Title,{children:"Logs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__.Z,{size:"middle",dataSource:logs,columns:[{title:"Level",dataIndex:"level",key:"level",filters:[{text:"Info",value:"info"},{text:"Warning",value:"warning"},{text:"Error",value:"Error"}],onFilter:(level,row)=>0===row.level.indexOf(level),render:renderColumnLevel},{title:"Timestamp",dataIndex:"time",key:"time",render(timestamp){let dateObject=new Date(timestamp);return(0,date_fns_format__WEBPACK_IMPORTED_MODULE_5__.Z)(dateObject,"pp P")},sorter:(a,b)=>new Date(a.time).getTime()-new Date(b.time).getTime(),sortDirections:["descend","ascend"],defaultSortOrder:"descend"},{title:"Message",dataIndex:"message",key:"message",render:renderMessage}],rowKey:row=>row.time,pagination:{pageSize:pageSize||20}})]}):null}},87905:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Logs}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(85893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67294),_components_LogTable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(19849),_utils_apis__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(64777);function Logs(){let[logs,setLogs]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),getInfo=async()=>{try{let result=await (0,_utils_apis__WEBPACK_IMPORTED_MODULE_3__.rQ)(_utils_apis__WEBPACK_IMPORTED_MODULE_3__.sG);setLogs(result)}catch(error){console.log("==== error",error)}};return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{let getStatusIntervalId=null;return setInterval(getInfo,5e3),getInfo(),getStatusIntervalId=setInterval(getInfo,5e3),()=>{clearInterval(getStatusIntervalId)}},[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_LogTable__WEBPACK_IMPORTED_MODULE_2__.o,{logs:logs,pageSize:20})}}},function(__webpack_require__){__webpack_require__.O(0,[8939,3903,4267,3626,8091,5360,9774,2888,179],function(){return __webpack_require__(__webpack_require__.s=23426)}),_N_E=__webpack_require__.O()}]);